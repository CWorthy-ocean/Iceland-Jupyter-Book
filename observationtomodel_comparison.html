
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Observation to Model comparison &#8212; Iceland field-trial modeling support</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.1/css/all.min.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.1/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.1/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.1/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b76e3c8a" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=384b581d" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css?v=be8a1c11" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae" />
  <script src="_static/vendor/fontawesome/6.5.1/js/all.min.js?digest=8d27b9dea8ad943066ae"></script>

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=888ff710"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=efea14e4"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js?v=36754332"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'observationtomodel_comparison';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a id="pst-skip-link" class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <header class="bd-header navbar navbar-expand-lg bd-navbar">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
        
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/logo.png" class="logo__image only-light" alt="Iceland field-trial modeling support - Home"/>
    <script>document.write(`<img src="_static/logo.png" class="logo__image only-dark" alt="Iceland field-trial modeling support - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    Iceland Field-Trial Modeling
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Mean state of Hvalfjordur</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="Density_overview.html">Analysis of stratification in the fjord</a></li>
<li class="toctree-l1"><a class="reference internal" href="velocity_iceland3.html">Velocity</a></li>
<li class="toctree-l1"><a class="reference internal" href="tidal_analysos.html">Tidal flow</a></li>
<li class="toctree-l1"><a class="reference internal" href="surface_obs.html">Overview of available surface observations</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Wake and sub grid scale dilution model</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="Wake_dilution_scenarios.html">Wake dilution scenarios with varying speed and discharge rate</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Dye experiments</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="dyepatch_small.html">Adding 8 dyes to initial conditions</a></li>


<li class="toctree-l1"><a class="reference internal" href="dye_movie-Copy1.html">A simple movie showing dye release</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">OAE experiments</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="Adding_alk_initial_file.html">Adding alkalinity to a ROMS initial file</a></li>
<li class="toctree-l1"><a class="reference internal" href="pretty_movies_ALK.html">4 IBC Alkalinity release movie</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Model-Observation comparison framework</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="CTD_comparison.html">Observation to Model Comparison: CTDs</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Dual-tracer field trial</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="surface_obs_fieldtrial.html">Overview of available surface observations</a></li>
<li class="toctree-l1"><a class="reference internal" href="find_tidal_minimum.html">Assessing tidal fluctuations in ROMS 33 m model</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/CWorthy-ocean/Iceland-Jupyter-Book" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/CWorthy-ocean/Iceland-Jupyter-Book/issues/new?title=Issue%20on%20page%20%2Fobservationtomodel_comparison.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/observationtomodel_comparison.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>

</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Observation to Model comparison</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="observation-to-model-comparison">
<h1>Observation to Model comparison<a class="headerlink" href="#observation-to-model-comparison" title="Link to this heading">#</a></h1>
<p>Observational datasets (so far)<br />
1997 field data collection<br />
Grundartangi data every 10 minutes going back to the 1970s (with sparser data as you go back)\</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">subprocess</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">netCDF4</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">glob</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">copy</span>
<span class="kn">import</span> <span class="nn">xarray</span> <span class="k">as</span> <span class="nn">xr</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span><span class="p">,</span> <span class="n">timedelta</span> 
<span class="kn">from</span> <span class="nn">ocean_c_lab_tools</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">celluloid</span> <span class="kn">import</span> <span class="n">Camera</span> 
<span class="kn">import</span> <span class="nn">PyCO2SYS</span> <span class="k">as</span> <span class="nn">csys</span>
<span class="kn">import</span> <span class="nn">seawater</span> <span class="k">as</span> <span class="nn">sw</span>
<span class="kn">from</span> <span class="nn">roms_regrid</span> <span class="kn">import</span> <span class="o">*</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">f</span><span class="o">=</span><span class="s1">&#39;/expanse/lustre/projects/cos100/uheede/Iceland_observations/Grundartangi_01062012-30072012.xls&#39;</span>
<span class="n">grundartangi</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="n">f</span><span class="p">,</span><span class="n">decimal</span><span class="o">=</span><span class="s1">&#39;,&#39;</span><span class="p">)</span>
<span class="n">xls</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">ExcelFile</span><span class="p">(</span><span class="s1">&#39;/expanse/lustre/projects/cos100/uheede/Iceland_observations/cruise_1997.xls&#39;</span><span class="p">)</span>
<span class="n">df1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="n">xls</span><span class="p">,</span> <span class="s1">&#39;Sheet1&#39;</span><span class="p">,</span><span class="n">decimal</span><span class="o">=</span><span class="s1">&#39;,&#39;</span><span class="p">)</span>
<span class="n">df2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="n">xls</span><span class="p">,</span> <span class="s1">&#39;Sheet2&#39;</span><span class="p">,</span><span class="n">decimal</span><span class="o">=</span><span class="s1">&#39;,&#39;</span><span class="p">)</span>
<span class="n">df1</span>
<span class="c1">#df1.drop_indexes(&#39;index&#39;)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Station</th>
      <th>Latitude(∞N)</th>
      <th>Longitude(∞E)</th>
      <th>mon/day/yr</th>
      <th>hh:mm</th>
      <th>Ship</th>
      <th>Cruise</th>
      <th>Bottom Depth[m]</th>
      <th>Depth</th>
      <th>Temperature</th>
      <th>Salinity</th>
      <th>Fluor</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>100</td>
      <td>64.3633</td>
      <td>-21.5200</td>
      <td>1997-02-06</td>
      <td>11:42:00</td>
      <td>D01-1997</td>
      <td>Hval01</td>
      <td>10</td>
      <td>0.5</td>
      <td>0.3263</td>
      <td>32.0875</td>
      <td>0.3688</td>
    </tr>
    <tr>
      <th>1</th>
      <td>100</td>
      <td>64.3633</td>
      <td>-21.5200</td>
      <td>1997-02-06</td>
      <td>11:42:00</td>
      <td>D01-1997</td>
      <td>Hval01</td>
      <td>10</td>
      <td>1.0</td>
      <td>0.2596</td>
      <td>33.0624</td>
      <td>0.3733</td>
    </tr>
    <tr>
      <th>2</th>
      <td>100</td>
      <td>64.3633</td>
      <td>-21.5200</td>
      <td>1997-02-06</td>
      <td>11:42:00</td>
      <td>D01-1997</td>
      <td>Hval01</td>
      <td>10</td>
      <td>1.5</td>
      <td>0.2925</td>
      <td>33.4925</td>
      <td>0.4875</td>
    </tr>
    <tr>
      <th>3</th>
      <td>100</td>
      <td>64.3633</td>
      <td>-21.5200</td>
      <td>1997-02-06</td>
      <td>11:42:00</td>
      <td>D01-1997</td>
      <td>Hval01</td>
      <td>10</td>
      <td>2.0</td>
      <td>0.2311</td>
      <td>32.7254</td>
      <td>0.6217</td>
    </tr>
    <tr>
      <th>4</th>
      <td>100</td>
      <td>64.3633</td>
      <td>-21.5200</td>
      <td>1997-02-06</td>
      <td>11:42:00</td>
      <td>D01-1997</td>
      <td>Hval01</td>
      <td>10</td>
      <td>2.5</td>
      <td>0.2286</td>
      <td>32.6823</td>
      <td>0.6661</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>3568</th>
      <td>2202</td>
      <td>64.2750</td>
      <td>-21.9683</td>
      <td>1997-11-11</td>
      <td>06:33:00</td>
      <td>D21-1997</td>
      <td>Hval27</td>
      <td>30</td>
      <td>32.5</td>
      <td>7.0250</td>
      <td>34.3260</td>
      <td>0.6823</td>
    </tr>
    <tr>
      <th>3569</th>
      <td>2202</td>
      <td>64.2750</td>
      <td>-21.9683</td>
      <td>1997-11-11</td>
      <td>06:33:00</td>
      <td>D21-1997</td>
      <td>Hval27</td>
      <td>30</td>
      <td>33.0</td>
      <td>7.0412</td>
      <td>34.3133</td>
      <td>0.6748</td>
    </tr>
    <tr>
      <th>3570</th>
      <td>2202</td>
      <td>64.2750</td>
      <td>-21.9683</td>
      <td>1997-11-11</td>
      <td>06:33:00</td>
      <td>D21-1997</td>
      <td>Hval27</td>
      <td>30</td>
      <td>33.5</td>
      <td>7.0465</td>
      <td>34.3178</td>
      <td>0.6878</td>
    </tr>
    <tr>
      <th>3571</th>
      <td>2202</td>
      <td>64.2750</td>
      <td>-21.9683</td>
      <td>1997-11-11</td>
      <td>06:33:00</td>
      <td>D21-1997</td>
      <td>Hval27</td>
      <td>30</td>
      <td>34.0</td>
      <td>7.0509</td>
      <td>34.3187</td>
      <td>0.6761</td>
    </tr>
    <tr>
      <th>3572</th>
      <td>2202</td>
      <td>64.2750</td>
      <td>-21.9683</td>
      <td>1997-11-11</td>
      <td>06:33:00</td>
      <td>D21-1997</td>
      <td>Hval27</td>
      <td>30</td>
      <td>34.5</td>
      <td>7.0562</td>
      <td>34.3126</td>
      <td>0.6867</td>
    </tr>
  </tbody>
</table>
<p>3573 rows × 12 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">obs</span><span class="o">=</span><span class="n">xr</span><span class="o">.</span><span class="n">Dataset</span><span class="o">.</span><span class="n">from_dataframe</span><span class="p">(</span><span class="n">df1</span><span class="p">)</span>
<span class="n">obs</span><span class="o">=</span><span class="n">obs</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Depth&#39;</span><span class="p">,</span><span class="s1">&#39;mon/day/yr&#39;</span><span class="p">,</span><span class="s1">&#39;Bottom Depth[m]&#39;</span><span class="p">])</span>
<span class="n">obs</span><span class="o">=</span><span class="n">obs</span><span class="o">.</span><span class="n">unstack</span><span class="p">(</span><span class="s1">&#39;index&#39;</span><span class="p">)</span>
<span class="n">obs</span><span class="o">=</span><span class="n">obs</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">name_dict</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Bottom Depth[m]&#39;</span><span class="p">:</span><span class="s1">&#39;ID&#39;</span><span class="p">,</span><span class="s1">&#39;mon/day/yr&#39;</span><span class="p">:</span><span class="s1">&#39;time&#39;</span><span class="p">,</span><span class="s1">&#39;Depth&#39;</span><span class="p">:</span><span class="s1">&#39;depth&#39;</span><span class="p">})</span>
<span class="n">obs</span><span class="p">[</span><span class="s1">&#39;Temperature&#39;</span><span class="p">]</span><span class="o">=</span><span class="n">obs</span><span class="p">[</span><span class="s1">&#39;Temperature&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">obs</span><span class="o">.</span><span class="n">depth</span><span class="o">&lt;</span><span class="n">obs</span><span class="p">[</span><span class="s1">&#39;ID&#39;</span><span class="p">])</span>
<span class="n">obs</span><span class="p">[</span><span class="s1">&#39;Salinity&#39;</span><span class="p">]</span><span class="o">=</span><span class="n">obs</span><span class="p">[</span><span class="s1">&#39;Salinity&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">obs</span><span class="o">.</span><span class="n">depth</span><span class="o">&lt;</span><span class="n">obs</span><span class="p">[</span><span class="s1">&#39;ID&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">obs</span><span class="o">.</span><span class="n">depth</span><span class="p">,</span><span class="n">obs</span><span class="p">[</span><span class="s1">&#39;Temperature&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">ID</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">time</span><span class="o">=</span><span class="nb">slice</span><span class="p">(</span><span class="s1">&#39;05-06-1997&#39;</span><span class="p">,</span><span class="s1">&#39;07-25-1997&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="s1">&#39;time&#39;</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">obs</span><span class="o">.</span><span class="n">depth</span><span class="p">,</span><span class="n">obs</span><span class="p">[</span><span class="s1">&#39;Temperature&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">ID</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">time</span><span class="o">=</span><span class="nb">slice</span><span class="p">(</span><span class="s1">&#39;05-06-1997&#39;</span><span class="p">,</span><span class="s1">&#39;07-25-1997&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="s1">&#39;time&#39;</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">obs</span><span class="o">.</span><span class="n">depth</span><span class="p">,</span><span class="n">obs</span><span class="p">[</span><span class="s1">&#39;Temperature&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">ID</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">time</span><span class="o">=</span><span class="nb">slice</span><span class="p">(</span><span class="s1">&#39;05-06-1997&#39;</span><span class="p">,</span><span class="s1">&#39;07-25-1997&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="s1">&#39;time&#39;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&lt;matplotlib.lines.Line2D at 0x1554deea7b80&gt;]
</pre></div>
</div>
<img alt="_images/79a9691e9d6eeec082203d02a7a8b05d5810d758efe8fa0c50af5e36b64d4255.png" src="_images/79a9691e9d6eeec082203d02a7a8b05d5810d758efe8fa0c50af5e36b64d4255.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">obs</span><span class="o">.</span><span class="n">depth</span><span class="p">,</span><span class="n">obs</span><span class="p">[</span><span class="s1">&#39;Salinity&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">ID</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">time</span><span class="o">=</span><span class="nb">slice</span><span class="p">(</span><span class="s1">&#39;05-06-1997&#39;</span><span class="p">,</span><span class="s1">&#39;07-25-1997&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="s1">&#39;time&#39;</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">obs</span><span class="o">.</span><span class="n">depth</span><span class="p">,</span><span class="n">obs</span><span class="p">[</span><span class="s1">&#39;Salinity&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">ID</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">time</span><span class="o">=</span><span class="nb">slice</span><span class="p">(</span><span class="s1">&#39;05-06-1997&#39;</span><span class="p">,</span><span class="s1">&#39;07-25-1997&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="s1">&#39;time&#39;</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">obs</span><span class="o">.</span><span class="n">depth</span><span class="p">,</span><span class="n">obs</span><span class="p">[</span><span class="s1">&#39;Salinity&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">ID</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">time</span><span class="o">=</span><span class="nb">slice</span><span class="p">(</span><span class="s1">&#39;05-06-1997&#39;</span><span class="p">,</span><span class="s1">&#39;07-25-1997&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="s1">&#39;time&#39;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&lt;matplotlib.lines.Line2D at 0x1554dee5fe20&gt;]
</pre></div>
</div>
<img alt="_images/7039907369a4c7cb3b848b35f62a085721add44531f62832abecfc19aaab5020.png" src="_images/7039907369a4c7cb3b848b35f62a085721add44531f62832abecfc19aaab5020.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span><span class="o">=</span><span class="n">xr</span><span class="o">.</span><span class="n">open_mfdataset</span><span class="p">(</span><span class="s1">&#39;/expanse/lustre/projects/cos100/uheede/roms/run/Iceland3/Iceland3_rnd.20120516130000.nc&#39;</span><span class="p">,</span> <span class="n">combine</span><span class="o">=</span><span class="s1">&#39;nested&#39;</span><span class="p">,</span> <span class="n">concat_dim</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;time&quot;</span><span class="p">])</span>
<span class="n">grid</span><span class="o">=</span><span class="n">xr</span><span class="o">.</span><span class="n">open_mfdataset</span><span class="p">(</span><span class="s1">&#39;/expanse/lustre/projects/cos100/uheede/Iceland3_grd.nc&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x1</span><span class="o">=</span><span class="n">xr</span><span class="o">.</span><span class="n">open_mfdataset</span><span class="p">(</span><span class="s1">&#39;/expanse/lustre/projects/cos100/uheede/roms/run/Iceland3/z_Iceland3_rnd.201205*.nc&#39;</span><span class="p">,</span> <span class="n">combine</span><span class="o">=</span><span class="s1">&#39;nested&#39;</span><span class="p">,</span> <span class="n">concat_dim</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;time&quot;</span><span class="p">])</span>
<span class="n">x2</span><span class="o">=</span><span class="n">xr</span><span class="o">.</span><span class="n">open_mfdataset</span><span class="p">(</span><span class="s1">&#39;/expanse/lustre/projects/cos100/uheede/roms/run/Iceland3/z_Iceland3_rnd.201206*.nc&#39;</span><span class="p">,</span> <span class="n">combine</span><span class="o">=</span><span class="s1">&#39;nested&#39;</span><span class="p">,</span> <span class="n">concat_dim</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;time&quot;</span><span class="p">])</span>
<span class="n">x3</span><span class="o">=</span><span class="n">xr</span><span class="o">.</span><span class="n">open_mfdataset</span><span class="p">(</span><span class="s1">&#39;/expanse/lustre/projects/cos100/uheede/roms/run/Iceland3/z_Iceland3_rnd.201207*.nc&#39;</span><span class="p">,</span> <span class="n">combine</span><span class="o">=</span><span class="s1">&#39;nested&#39;</span><span class="p">,</span> <span class="n">concat_dim</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;time&quot;</span><span class="p">])</span>
<span class="n">x</span><span class="o">=</span><span class="n">xr</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">x1</span><span class="p">,</span><span class="n">x2</span><span class="p">,</span><span class="n">x3</span><span class="p">],</span><span class="n">dim</span><span class="o">=</span><span class="s1">&#39;time&#39;</span><span class="p">)</span>
<span class="c1">#x=xr.open_mfdataset(&#39;/expanse/lustre/projects/cos100/uheede/roms/run/Iceland3/Iceland3_rnd.20120516130000.nc&#39;, combine=&#39;nested&#39;, concat_dim=[&quot;time&quot;])</span>

<span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="s1">&#39;time&#39;</span><span class="p">)</span>
<span class="n">grid</span><span class="o">=</span><span class="n">xr</span><span class="o">.</span><span class="n">open_mfdataset</span><span class="p">(</span><span class="s1">&#39;/expanse/lustre/projects/cos100/uheede/Iceland3_grd.nc&#39;</span><span class="p">)</span>
<span class="n">t</span><span class="o">=</span><span class="n">x</span><span class="p">[</span><span class="s1">&#39;t&#39;</span><span class="p">]</span>
<span class="n">s</span><span class="o">=</span><span class="n">x</span><span class="p">[</span><span class="s1">&#39;s&#39;</span><span class="p">]</span>


<span class="n">t</span><span class="o">=</span><span class="n">roms_regrid</span><span class="p">(</span><span class="n">grid</span><span class="p">,</span><span class="n">t</span><span class="p">)</span>
<span class="n">s</span><span class="o">=</span><span class="n">roms_regrid</span><span class="p">(</span><span class="n">grid</span><span class="p">,</span><span class="n">s</span><span class="p">)</span>
<span class="n">t</span><span class="o">=</span><span class="n">t</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">t</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">s</span><span class="o">=</span><span class="n">s</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">s</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">t</span><span class="o">.</span><span class="n">load</span><span class="p">()</span>
<span class="c1">#s.load()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewBox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewBox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
  --xr-border-color: var(--jp-border-color2, #e0e0e0);
  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
  --xr-background-color: var(--jp-layout-color0, white);
  --xr-background-color-row-even: var(--jp-layout-color1, white);
  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
}

html[theme=dark],
body[data-theme=dark],
body.vscode-dark {
  --xr-font-color0: rgba(255, 255, 255, 1);
  --xr-font-color2: rgba(255, 255, 255, 0.54);
  --xr-font-color3: rgba(255, 255, 255, 0.38);
  --xr-border-color: #1F1F1F;
  --xr-disabled-color: #515151;
  --xr-background-color: #111111;
  --xr-background-color-row-even: #111111;
  --xr-background-color-row-odd: #313131;
}

.xr-wrap {
  display: block !important;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 20px 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: none;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: '►';
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: '▼';
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: '(';
}

.xr-dim-list:after {
  content: ')';
}

.xr-dim-list li:not(:last-child):after {
  content: ',';
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  margin-bottom: 0;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-index-preview {
  grid-column: 2 / 5;
  color: var(--xr-font-color2);
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  display: none;
  background-color: var(--xr-background-color) !important;
  padding-bottom: 5px !important;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data,
.xr-index-data-in:checked ~ .xr-index-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-name span,
.xr-var-data,
.xr-index-name div,
.xr-index-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2,
.xr-no-icon {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}
</style><pre class='xr-text-repr-fallback'>&lt;xarray.DataArray (depth: 34, lat: 722, lon: 722)&gt;
array([[[     nan,      nan,      nan, ...,      nan,      nan,
              nan],
        [     nan,      nan,      nan, ...,      nan,      nan,
              nan],
        [     nan,      nan,      nan, ...,      nan,      nan,
              nan],
        ...,
        [     nan, 9.929144, 9.911392, ...,      nan,      nan,
              nan],
        [     nan,      nan,      nan, ...,      nan,      nan,
              nan],
        [     nan,      nan,      nan, ...,      nan,      nan,
              nan]],

       [[     nan,      nan,      nan, ...,      nan,      nan,
              nan],
        [     nan,      nan,      nan, ...,      nan,      nan,
              nan],
        [     nan,      nan,      nan, ...,      nan,      nan,
              nan],
...
        [     nan,      nan,      nan, ...,      nan,      nan,
              nan],
        [     nan,      nan,      nan, ...,      nan,      nan,
              nan],
        [     nan,      nan,      nan, ...,      nan,      nan,
              nan]],

       [[     nan,      nan,      nan, ...,      nan,      nan,
              nan],
        [     nan,      nan,      nan, ...,      nan,      nan,
              nan],
        [     nan,      nan,      nan, ...,      nan,      nan,
              nan],
        ...,
        [     nan,      nan,      nan, ...,      nan,      nan,
              nan],
        [     nan,      nan,      nan, ...,      nan,      nan,
              nan],
        [     nan,      nan,      nan, ...,      nan,      nan,
              nan]]], dtype=float32)
Coordinates:
  * depth    (depth) float32 -0.0 -1.0 -2.0 -3.0 ... -220.0 -240.0 -260.0 -280.0
  * lon      (lon) float64 337.2 337.2 337.2 337.2 ... 338.7 338.7 338.7 338.7
  * lat      (lat) float64 63.92 63.92 63.93 63.93 ... 64.57 64.57 64.57 64.57
Attributes:
    regrid_method:  bilinear</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.DataArray</div><div class='xr-array-name'></div><ul class='xr-dim-list'><li><span class='xr-has-index'>depth</span>: 34</li><li><span class='xr-has-index'>lat</span>: 722</li><li><span class='xr-has-index'>lon</span>: 722</li></ul></div><ul class='xr-sections'><li class='xr-section-item'><div class='xr-array-wrap'><input id='section-c9abbe66-4891-4e8e-910a-c3809df5815d' class='xr-array-in' type='checkbox' checked><label for='section-c9abbe66-4891-4e8e-910a-c3809df5815d' title='Show/hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-array-preview xr-preview'><span>nan nan nan nan nan nan nan nan ... nan nan nan nan nan nan nan nan</span></div><div class='xr-array-data'><pre>array([[[     nan,      nan,      nan, ...,      nan,      nan,
              nan],
        [     nan,      nan,      nan, ...,      nan,      nan,
              nan],
        [     nan,      nan,      nan, ...,      nan,      nan,
              nan],
        ...,
        [     nan, 9.929144, 9.911392, ...,      nan,      nan,
              nan],
        [     nan,      nan,      nan, ...,      nan,      nan,
              nan],
        [     nan,      nan,      nan, ...,      nan,      nan,
              nan]],

       [[     nan,      nan,      nan, ...,      nan,      nan,
              nan],
        [     nan,      nan,      nan, ...,      nan,      nan,
              nan],
        [     nan,      nan,      nan, ...,      nan,      nan,
              nan],
...
        [     nan,      nan,      nan, ...,      nan,      nan,
              nan],
        [     nan,      nan,      nan, ...,      nan,      nan,
              nan],
        [     nan,      nan,      nan, ...,      nan,      nan,
              nan]],

       [[     nan,      nan,      nan, ...,      nan,      nan,
              nan],
        [     nan,      nan,      nan, ...,      nan,      nan,
              nan],
        [     nan,      nan,      nan, ...,      nan,      nan,
              nan],
        ...,
        [     nan,      nan,      nan, ...,      nan,      nan,
              nan],
        [     nan,      nan,      nan, ...,      nan,      nan,
              nan],
        [     nan,      nan,      nan, ...,      nan,      nan,
              nan]]], dtype=float32)</pre></div></div></li><li class='xr-section-item'><input id='section-7562e0ee-4a52-4f9c-9d64-56a36a4da865' class='xr-section-summary-in' type='checkbox'  checked><label for='section-7562e0ee-4a52-4f9c-9d64-56a36a4da865' class='xr-section-summary' >Coordinates: <span>(3)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>depth</span></div><div class='xr-var-dims'>(depth)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>-0.0 -1.0 -2.0 ... -260.0 -280.0</div><input id='attrs-1ee35946-6c08-43ee-934a-9de0a43c77b8' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-1ee35946-6c08-43ee-934a-9de0a43c77b8' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-9cbd107b-4faf-4e50-ade3-abf7ce55cd5b' class='xr-var-data-in' type='checkbox'><label for='data-9cbd107b-4faf-4e50-ade3-abf7ce55cd5b' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([  -0.,   -1.,   -2.,   -3.,   -4.,   -6.,   -8.,  -10.,  -12.,  -14.,
        -16.,  -18.,  -20.,  -25.,  -30.,  -35.,  -40.,  -45.,  -50.,  -55.,
        -60.,  -70.,  -80.,  -90., -100., -120., -140., -160., -180., -200.,
       -220., -240., -260., -280.], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>lon</span></div><div class='xr-var-dims'>(lon)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>337.2 337.2 337.2 ... 338.7 338.7</div><input id='attrs-e78f630f-2ab4-480b-8010-7f15b3a38325' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-e78f630f-2ab4-480b-8010-7f15b3a38325' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-a859a972-df67-4420-9d43-43552d322252' class='xr-var-data-in' type='checkbox'><label for='data-a859a972-df67-4420-9d43-43552d322252' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>units :</span></dt><dd>degrees_north</dd></dl></div><div class='xr-var-data'><pre>array([337.194963, 337.197055, 337.199146, ..., 338.698762, 338.700854,
       338.702945])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>lat</span></div><div class='xr-var-dims'>(lat)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>63.92 63.92 63.93 ... 64.57 64.57</div><input id='attrs-9d681c65-286d-41c4-8de7-f1bcb72f1be3' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-9d681c65-286d-41c4-8de7-f1bcb72f1be3' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-e48ca5eb-ebb7-4e1c-bc3a-2ccd19db3da4' class='xr-var-data-in' type='checkbox'><label for='data-e48ca5eb-ebb7-4e1c-bc3a-2ccd19db3da4' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>units :</span></dt><dd>degrees_east</dd></dl></div><div class='xr-var-data'><pre>array([63.923933, 63.924834, 63.925734, ..., 64.571486, 64.572386, 64.573287])</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-337d6bd8-b877-4cb1-8b34-d739e4d1784e' class='xr-section-summary-in' type='checkbox'  ><label for='section-337d6bd8-b877-4cb1-8b34-d739e4d1784e' class='xr-section-summary' >Indexes: <span>(3)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-index-name'><div>depth</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-1b45c47c-172f-4581-9c3a-59bc80977965' class='xr-index-data-in' type='checkbox'/><label for='index-1b45c47c-172f-4581-9c3a-59bc80977965' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([  -0.0,   -1.0,   -2.0,   -3.0,   -4.0,   -6.0,   -8.0,  -10.0,  -12.0,
        -14.0,  -16.0,  -18.0,  -20.0,  -25.0,  -30.0,  -35.0,  -40.0,  -45.0,
        -50.0,  -55.0,  -60.0,  -70.0,  -80.0,  -90.0, -100.0, -120.0, -140.0,
       -160.0, -180.0, -200.0, -220.0, -240.0, -260.0, -280.0],
      dtype=&#x27;float32&#x27;, name=&#x27;depth&#x27;))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>lon</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-0df53f94-a411-4b71-8685-24cab6b2bdb3' class='xr-index-data-in' type='checkbox'/><label for='index-0df53f94-a411-4b71-8685-24cab6b2bdb3' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([ 337.1949633691718, 337.19705488338457, 337.19914639759736,
       337.20123791181015, 337.20332942602295, 337.20542094023574,
       337.20751245444853,  337.2096039686613,  337.2116954828741,
        337.2137869970869,
       ...
        338.6841214886806,  338.6862130028934,  338.6883045171062,
         338.690396031319,  338.6924875455318, 338.69457905974457,
       338.69667057395736, 338.69876208817016, 338.70085360238295,
       338.70294511659574],
      dtype=&#x27;float64&#x27;, name=&#x27;lon&#x27;, length=722))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>lat</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-a24deb71-7936-4e2f-a1c5-eb4e12f7b8f3' class='xr-index-data-in' type='checkbox'/><label for='index-a24deb71-7936-4e2f-a1c5-eb4e12f7b8f3' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([63.923932965369254,  63.92483359516335, 63.925734224957445,
        63.92663485475154, 63.927535484545636,  63.92843611433973,
        63.92933674413383,  63.93023737392792,  63.93113800372202,
       63.932038633516115,
       ...
        64.56518137876537,  64.56608200855946,  64.56698263835355,
        64.56788326814765,  64.56878389794176,  64.56968452773584,
        64.57058515752993,  64.57148578732404,  64.57238641711814,
        64.57328704691223],
      dtype=&#x27;float64&#x27;, name=&#x27;lat&#x27;, length=722))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-24642827-351c-4169-b209-e5b1fd418b7e' class='xr-section-summary-in' type='checkbox'  checked><label for='section-24642827-351c-4169-b209-e5b1fd418b7e' class='xr-section-summary' >Attributes: <span>(1)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'><dt><span>regrid_method :</span></dt><dd>bilinear</dd></dl></div></li></ul></div></div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">t1</span><span class="o">=</span><span class="n">t</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">lat</span><span class="o">=</span><span class="mf">64.2750</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;nearest&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">lon</span><span class="o">=</span><span class="mi">360</span><span class="o">-</span><span class="mf">21.9683</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;nearest&#39;</span><span class="p">)</span>
<span class="n">t2</span><span class="o">=</span><span class="n">t</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">lat</span><span class="o">=</span><span class="mf">64.39</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;nearest&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">lon</span><span class="o">=</span><span class="mi">360</span><span class="o">-</span><span class="mf">21.52</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;nearest&#39;</span><span class="p">)</span>
<span class="n">t3</span><span class="o">=</span><span class="n">t</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">lat</span><span class="o">=</span><span class="mf">64.365</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;nearest&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">lon</span><span class="o">=</span><span class="mi">360</span><span class="o">-</span><span class="mf">21.52</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;nearest&#39;</span><span class="p">)</span>

<span class="n">s1</span><span class="o">=</span><span class="n">s</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">lat</span><span class="o">=</span><span class="mf">64.2750</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;nearest&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">lon</span><span class="o">=</span><span class="mi">360</span><span class="o">-</span><span class="mf">21.9683</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;nearest&#39;</span><span class="p">)</span>
<span class="n">s2</span><span class="o">=</span><span class="n">s</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">lat</span><span class="o">=</span><span class="mf">64.39</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;nearest&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">lon</span><span class="o">=</span><span class="mi">360</span><span class="o">-</span><span class="mf">21.52</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;nearest&#39;</span><span class="p">)</span>
<span class="n">s3</span><span class="o">=</span><span class="n">s</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">lat</span><span class="o">=</span><span class="mf">64.365</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;nearest&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">lon</span><span class="o">=</span><span class="mi">360</span><span class="o">-</span><span class="mf">21.52</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;nearest&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">t3</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewBox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewBox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
  --xr-border-color: var(--jp-border-color2, #e0e0e0);
  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
  --xr-background-color: var(--jp-layout-color0, white);
  --xr-background-color-row-even: var(--jp-layout-color1, white);
  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
}

html[theme=dark],
body[data-theme=dark],
body.vscode-dark {
  --xr-font-color0: rgba(255, 255, 255, 1);
  --xr-font-color2: rgba(255, 255, 255, 0.54);
  --xr-font-color3: rgba(255, 255, 255, 0.38);
  --xr-border-color: #1F1F1F;
  --xr-disabled-color: #515151;
  --xr-background-color: #111111;
  --xr-background-color-row-even: #111111;
  --xr-background-color-row-odd: #313131;
}

.xr-wrap {
  display: block !important;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 20px 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: none;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: '►';
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: '▼';
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: '(';
}

.xr-dim-list:after {
  content: ')';
}

.xr-dim-list li:not(:last-child):after {
  content: ',';
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  margin-bottom: 0;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-index-preview {
  grid-column: 2 / 5;
  color: var(--xr-font-color2);
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  display: none;
  background-color: var(--xr-background-color) !important;
  padding-bottom: 5px !important;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data,
.xr-index-data-in:checked ~ .xr-index-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-name span,
.xr-var-data,
.xr-index-name div,
.xr-index-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2,
.xr-no-icon {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}
</style><pre class='xr-text-repr-fallback'>&lt;xarray.DataArray (depth: 34)&gt;
array([8.254142 , 8.189458 , 8.090137 , 8.0126505, 7.9500246, 7.8466096,
             nan,       nan,       nan,       nan,       nan,       nan,
             nan,       nan,       nan,       nan,       nan,       nan,
             nan,       nan,       nan,       nan,       nan,       nan,
             nan,       nan,       nan,       nan,       nan,       nan,
             nan,       nan,       nan,       nan], dtype=float32)
Coordinates:
  * depth    (depth) float32 -0.0 -1.0 -2.0 -3.0 ... -220.0 -240.0 -260.0 -280.0
    lon      float64 338.5
    lat      float64 64.37
Attributes:
    regrid_method:  bilinear</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.DataArray</div><div class='xr-array-name'></div><ul class='xr-dim-list'><li><span class='xr-has-index'>depth</span>: 34</li></ul></div><ul class='xr-sections'><li class='xr-section-item'><div class='xr-array-wrap'><input id='section-d043b0b1-94fa-4fb8-8c77-56cfe5599b45' class='xr-array-in' type='checkbox' checked><label for='section-d043b0b1-94fa-4fb8-8c77-56cfe5599b45' title='Show/hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-array-preview xr-preview'><span>8.254 8.189 8.09 8.013 7.95 7.847 nan ... nan nan nan nan nan nan nan</span></div><div class='xr-array-data'><pre>array([8.254142 , 8.189458 , 8.090137 , 8.0126505, 7.9500246, 7.8466096,
             nan,       nan,       nan,       nan,       nan,       nan,
             nan,       nan,       nan,       nan,       nan,       nan,
             nan,       nan,       nan,       nan,       nan,       nan,
             nan,       nan,       nan,       nan,       nan,       nan,
             nan,       nan,       nan,       nan], dtype=float32)</pre></div></div></li><li class='xr-section-item'><input id='section-f839748d-c689-4c19-b50c-69dbd8c600c6' class='xr-section-summary-in' type='checkbox'  checked><label for='section-f839748d-c689-4c19-b50c-69dbd8c600c6' class='xr-section-summary' >Coordinates: <span>(3)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>depth</span></div><div class='xr-var-dims'>(depth)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>-0.0 -1.0 -2.0 ... -260.0 -280.0</div><input id='attrs-06525ee0-13ea-4b69-9e32-7bab115b553c' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-06525ee0-13ea-4b69-9e32-7bab115b553c' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-eb1c6249-5d9f-4ce1-b664-ed602d74fa48' class='xr-var-data-in' type='checkbox'><label for='data-eb1c6249-5d9f-4ce1-b664-ed602d74fa48' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([  -0.,   -1.,   -2.,   -3.,   -4.,   -6.,   -8.,  -10.,  -12.,  -14.,
        -16.,  -18.,  -20.,  -25.,  -30.,  -35.,  -40.,  -45.,  -50.,  -55.,
        -60.,  -70.,  -80.,  -90., -100., -120., -140., -160., -180., -200.,
       -220., -240., -260., -280.], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>lon</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>338.5</div><input id='attrs-75865d9e-21ca-4521-8628-20a634dbb3e9' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-75865d9e-21ca-4521-8628-20a634dbb3e9' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-011d1b24-51ca-4047-86d9-7cef742d4fb2' class='xr-var-data-in' type='checkbox'><label for='data-011d1b24-51ca-4047-86d9-7cef742d4fb2' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>units :</span></dt><dd>degrees_north</dd></dl></div><div class='xr-var-data'><pre>array(338.4791531)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>lat</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>64.37</div><input id='attrs-51876d54-1b8a-459a-aae2-36ca60096738' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-51876d54-1b8a-459a-aae2-36ca60096738' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-1951eb62-7152-4a78-ac23-ecc46eeb7635' class='xr-var-data-in' type='checkbox'><label for='data-1951eb62-7152-4a78-ac23-ecc46eeb7635' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>units :</span></dt><dd>degrees_east</dd></dl></div><div class='xr-var-data'><pre>array(64.36524156)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-1efe2663-6fd9-4427-b73e-c94a6af1629a' class='xr-section-summary-in' type='checkbox'  ><label for='section-1efe2663-6fd9-4427-b73e-c94a6af1629a' class='xr-section-summary' >Indexes: <span>(1)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-index-name'><div>depth</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-62e82b73-9822-4152-a5f6-69fe20b649b4' class='xr-index-data-in' type='checkbox'/><label for='index-62e82b73-9822-4152-a5f6-69fe20b649b4' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([  -0.0,   -1.0,   -2.0,   -3.0,   -4.0,   -6.0,   -8.0,  -10.0,  -12.0,
        -14.0,  -16.0,  -18.0,  -20.0,  -25.0,  -30.0,  -35.0,  -40.0,  -45.0,
        -50.0,  -55.0,  -60.0,  -70.0,  -80.0,  -90.0, -100.0, -120.0, -140.0,
       -160.0, -180.0, -200.0, -220.0, -240.0, -260.0, -280.0],
      dtype=&#x27;float32&#x27;, name=&#x27;depth&#x27;))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-26175d09-8355-4677-ab1f-c9d61f79eb04' class='xr-section-summary-in' type='checkbox'  checked><label for='section-26175d09-8355-4677-ab1f-c9d61f79eb04' class='xr-section-summary' >Attributes: <span>(1)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'><dt><span>regrid_method :</span></dt><dd>bilinear</dd></dl></div></li></ul></div></div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">obs</span><span class="o">.</span><span class="n">depth</span><span class="p">,</span><span class="n">obs</span><span class="p">[</span><span class="s1">&#39;Temperature&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">ID</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">time</span><span class="o">=</span><span class="nb">slice</span><span class="p">(</span><span class="s1">&#39;05-05-1997&#39;</span><span class="p">,</span><span class="s1">&#39;07-30-1997&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="s1">&#39;time&#39;</span><span class="p">),</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t1</span><span class="o">.</span><span class="n">depth</span><span class="o">*</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span><span class="n">t1</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span><span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">obs</span><span class="o">.</span><span class="n">depth</span><span class="p">,</span><span class="n">obs</span><span class="p">[</span><span class="s1">&#39;Temperature&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">ID</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">time</span><span class="o">=</span><span class="nb">slice</span><span class="p">(</span><span class="s1">&#39;05-05-1997&#39;</span><span class="p">,</span><span class="s1">&#39;07-30-1997&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="s1">&#39;time&#39;</span><span class="p">),</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;orange&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t2</span><span class="o">.</span><span class="n">depth</span><span class="o">*</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span><span class="n">t2</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;orange&#39;</span><span class="p">,</span><span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">obs</span><span class="o">.</span><span class="n">depth</span><span class="p">,</span><span class="n">obs</span><span class="p">[</span><span class="s1">&#39;Temperature&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">ID</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">time</span><span class="o">=</span><span class="nb">slice</span><span class="p">(</span><span class="s1">&#39;05-05-1997&#39;</span><span class="p">,</span><span class="s1">&#39;07-30-1997&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="s1">&#39;time&#39;</span><span class="p">),</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t3</span><span class="o">.</span><span class="n">depth</span><span class="o">*</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span><span class="n">t3</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">,</span><span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Temperature profiles with depth&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Deg. C&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Depth (m)&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Text(0.5, 0, &#39;Depth (m)&#39;)
</pre></div>
</div>
<img alt="_images/321f7ee64d5700bdc4bcf8c307e1d150b698e76c425d72fcaf84ad599b948240.png" src="_images/321f7ee64d5700bdc4bcf8c307e1d150b698e76c425d72fcaf84ad599b948240.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">obs</span><span class="o">.</span><span class="n">depth</span><span class="p">,</span><span class="n">obs</span><span class="p">[</span><span class="s1">&#39;Salinity&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">ID</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">time</span><span class="o">=</span><span class="nb">slice</span><span class="p">(</span><span class="s1">&#39;05-05-1997&#39;</span><span class="p">,</span><span class="s1">&#39;07-30-1997&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="s1">&#39;time&#39;</span><span class="p">),</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">s1</span><span class="o">.</span><span class="n">depth</span><span class="o">*</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span><span class="n">s1</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span><span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">obs</span><span class="o">.</span><span class="n">depth</span><span class="p">,</span><span class="n">obs</span><span class="p">[</span><span class="s1">&#39;Salinity&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">ID</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">time</span><span class="o">=</span><span class="nb">slice</span><span class="p">(</span><span class="s1">&#39;05-05-1997&#39;</span><span class="p">,</span><span class="s1">&#39;07-30-1997&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="s1">&#39;time&#39;</span><span class="p">),</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;orange&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">s2</span><span class="o">.</span><span class="n">depth</span><span class="o">*</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span><span class="n">s2</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;orange&#39;</span><span class="p">,</span><span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">obs</span><span class="o">.</span><span class="n">depth</span><span class="p">,</span><span class="n">obs</span><span class="p">[</span><span class="s1">&#39;Salinity&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">ID</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">time</span><span class="o">=</span><span class="nb">slice</span><span class="p">(</span><span class="s1">&#39;05-05-1997&#39;</span><span class="p">,</span><span class="s1">&#39;07-30-1997&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="s1">&#39;time&#39;</span><span class="p">),</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">s3</span><span class="o">.</span><span class="n">depth</span><span class="o">*</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span><span class="n">s3</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">,</span><span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Salinity profiles with depth&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;psu&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Depth (m)&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Text(0.5, 0, &#39;Depth (m)&#39;)
</pre></div>
</div>
<img alt="_images/be7a36444a5ce4f9b27f02decc99aba56780441ac8fedd74e51a726515c625e3.png" src="_images/be7a36444a5ce4f9b27f02decc99aba56780441ac8fedd74e51a726515c625e3.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">grundartangi</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Timabil</th>
      <th>Flodatafla (m)</th>
      <th>Sjavarhaed (m)</th>
      <th>Vindur (m/s)</th>
      <th>Hvida (m/s)</th>
      <th>Vindatt (deg)</th>
      <th>Loftthrystingur (hpa)</th>
      <th>Lofthiti (degC)</th>
      <th>Sjavarhiti (degC)</th>
      <th>Selta (PSU)</th>
      <th>Unnamed: 10</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>00:00 31.07.2012</td>
      <td>1.07</td>
      <td>-3</td>
      <td>1</td>
      <td>2</td>
      <td>103</td>
      <td>1012</td>
      <td>12.5</td>
      <td>232</td>
      <td>0</td>
      <td></td>
    </tr>
    <tr>
      <th>1</th>
      <td>23:50 30.07.2012</td>
      <td>1.00</td>
      <td>-3</td>
      <td>2</td>
      <td>2</td>
      <td>115</td>
      <td>1012</td>
      <td>12.5</td>
      <td>232</td>
      <td>0</td>
      <td></td>
    </tr>
    <tr>
      <th>2</th>
      <td>23:40 30.07.2012</td>
      <td>0.93</td>
      <td>-3</td>
      <td>2</td>
      <td>3</td>
      <td>123</td>
      <td>1012</td>
      <td>12.4</td>
      <td>232</td>
      <td>0</td>
      <td></td>
    </tr>
    <tr>
      <th>3</th>
      <td>23:30 30.07.2012</td>
      <td>0.88</td>
      <td>-3</td>
      <td>2</td>
      <td>2</td>
      <td>119</td>
      <td>1012</td>
      <td>12.5</td>
      <td>232</td>
      <td>0</td>
      <td></td>
    </tr>
    <tr>
      <th>4</th>
      <td>23:20 30.07.2012</td>
      <td>0.84</td>
      <td>-3</td>
      <td>1</td>
      <td>2</td>
      <td>117</td>
      <td>1012</td>
      <td>12.7</td>
      <td>232</td>
      <td>0</td>
      <td></td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>8636</th>
      <td>00:40 01.06.2012</td>
      <td>2.56</td>
      <td>-3</td>
      <td>7</td>
      <td>9</td>
      <td>234</td>
      <td>1026</td>
      <td>9.3</td>
      <td>232</td>
      <td>0</td>
      <td></td>
    </tr>
    <tr>
      <th>8637</th>
      <td>00:30 01.06.2012</td>
      <td>2.45</td>
      <td>-3</td>
      <td>6</td>
      <td>8</td>
      <td>232</td>
      <td>1026</td>
      <td>9.3</td>
      <td>232</td>
      <td>0</td>
      <td></td>
    </tr>
    <tr>
      <th>8638</th>
      <td>00:20 01.06.2012</td>
      <td>2.35</td>
      <td>-3</td>
      <td>7</td>
      <td>9</td>
      <td>233</td>
      <td>1026</td>
      <td>9.5</td>
      <td>232</td>
      <td>0</td>
      <td></td>
    </tr>
    <tr>
      <th>8639</th>
      <td>00:10 01.06.2012</td>
      <td>2.24</td>
      <td>-3</td>
      <td>7</td>
      <td>9</td>
      <td>231</td>
      <td>1026</td>
      <td>9.7</td>
      <td>232</td>
      <td>0</td>
      <td></td>
    </tr>
    <tr>
      <th>8640</th>
      <td>00:00 01.06.2012</td>
      <td>2.13</td>
      <td>-3</td>
      <td>6</td>
      <td>9</td>
      <td>232</td>
      <td>1026</td>
      <td>9.8</td>
      <td>232</td>
      <td>0</td>
      <td></td>
    </tr>
  </tbody>
</table>
<p>8641 rows × 11 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#plt.plot(grundartangi[&#39;Vindatt (deg)&#39;])</span>

<span class="kn">from</span> <span class="nn">windrose</span> <span class="kn">import</span> <span class="n">WindroseAxes</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">WindroseAxes</span><span class="o">.</span><span class="n">from_ax</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">grundartangi</span><span class="p">[</span><span class="s1">&#39;Vindatt (deg)&#39;</span><span class="p">],</span> <span class="n">grundartangi</span><span class="p">[</span><span class="s1">&#39;Vindur (m/s)&#39;</span><span class="p">],</span> <span class="n">normed</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">opening</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_legend</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;wind rose for summer winds 2012&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Text(0.5, 1.0, &#39;wind rose for summer winds 2012&#39;)
</pre></div>
</div>
<img alt="_images/cca33afcb8f6d96d16466752e8fe6f9e113a8b9652510e0fea858908e4989051.png" src="_images/cca33afcb8f6d96d16466752e8fe6f9e113a8b9652510e0fea858908e4989051.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">palette</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">get_cmap</span><span class="p">(</span><span class="s1">&#39;tab20&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">grundartangi</span><span class="p">[</span><span class="s1">&#39; Flodatafla (m)&#39;</span><span class="p">],</span><span class="n">color</span><span class="o">=</span><span class="n">palette</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;surface water anomalies (m)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;m&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;time&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Text(0.5, 0, &#39;time&#39;)
</pre></div>
</div>
<img alt="_images/95b55842261f011d292db3416551a7888e3bf98e0480754d276ab7f2b7d08a56.png" src="_images/95b55842261f011d292db3416551a7888e3bf98e0480754d276ab7f2b7d08a56.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">grundartangi</span><span class="p">[</span><span class="s1">&#39;Lofthiti (degC)&#39;</span><span class="p">],</span><span class="n">color</span><span class="o">=</span><span class="n">palette</span><span class="p">(</span><span class="mi">7</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;air temperature &#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;degC&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;time&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Text(0.5, 0, &#39;time&#39;)
</pre></div>
</div>
<img alt="_images/22697816a735cfb5f0833680b3f8365ca7cff61c2d1b0e093bc4275cbdb5c230.png" src="_images/22697816a735cfb5f0833680b3f8365ca7cff61c2d1b0e093bc4275cbdb5c230.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">scipy</span>
<span class="kn">from</span> <span class="nn">scipy</span> <span class="kn">import</span> <span class="n">stats</span> <span class="k">as</span> <span class="n">st</span>
<span class="kn">import</span> <span class="nn">xesmf</span> <span class="k">as</span> <span class="nn">xe</span>
<span class="n">st</span><span class="o">.</span><span class="n">mode</span><span class="p">(</span><span class="n">grundartangi</span><span class="p">[</span><span class="s1">&#39;Vindatt (deg)&#39;</span><span class="p">])</span>
<span class="n">u</span><span class="o">=</span><span class="n">grundartangi</span><span class="p">[</span><span class="s1">&#39;Vindur (m/s)&#39;</span><span class="p">]</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">grundartangi</span><span class="p">[</span><span class="s1">&#39;Vindatt (deg)&#39;</span><span class="p">])</span>
<span class="n">v</span><span class="o">=</span><span class="n">grundartangi</span><span class="p">[</span><span class="s1">&#39;Vindur (m/s)&#39;</span><span class="p">]</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">grundartangi</span><span class="p">[</span><span class="s1">&#39;Vindatt (deg)&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">era</span><span class="o">=</span><span class="n">xr</span><span class="o">.</span><span class="n">open_mfdataset</span><span class="p">(</span><span class="s1">&#39;/home/uheede/era5.[6-7]2017.nc&#39;</span><span class="p">,</span> <span class="n">combine</span><span class="o">=</span><span class="s1">&#39;nested&#39;</span><span class="p">,</span> <span class="n">concat_dim</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;time&quot;</span><span class="p">])</span>
<span class="n">u10_carra</span><span class="o">=</span><span class="n">xr</span><span class="o">.</span><span class="n">open_mfdataset</span><span class="p">(</span><span class="s1">&#39;/expanse/lustre/projects/cos100/uheede/Arctic_datasets/u10_reanalysis.nc&#39;</span><span class="p">)</span>
<span class="n">v10_carra</span><span class="o">=</span><span class="n">xr</span><span class="o">.</span><span class="n">open_mfdataset</span><span class="p">(</span><span class="s1">&#39;/expanse/lustre/projects/cos100/uheede/Arctic_datasets/v10_reanalysis.nc&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">u10_carra</span> <span class="o">=</span> <span class="n">u10_carra</span><span class="o">.</span><span class="n">rename</span><span class="p">({</span><span class="s2">&quot;longitude&quot;</span><span class="p">:</span> <span class="s2">&quot;lon&quot;</span><span class="p">,</span> <span class="s2">&quot;latitude&quot;</span><span class="p">:</span> <span class="s2">&quot;lat&quot;</span><span class="p">})</span>
<span class="n">lon_min</span><span class="o">=</span><span class="p">(</span><span class="n">u10_carra</span><span class="o">.</span><span class="n">lon</span><span class="o">.</span><span class="n">min</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>
<span class="n">lon_max</span><span class="o">=</span><span class="p">(</span><span class="n">u10_carra</span><span class="o">.</span><span class="n">lon</span><span class="o">.</span><span class="n">max</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>
<span class="n">lon_step</span><span class="o">=</span><span class="p">((</span><span class="n">lon_max</span><span class="o">-</span><span class="n">lon_min</span><span class="p">)</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">u10_carra</span><span class="o">.</span><span class="n">x</span><span class="p">))</span>

<span class="n">lat_min</span><span class="o">=</span><span class="p">(</span><span class="n">u10_carra</span><span class="o">.</span><span class="n">lat</span><span class="o">.</span><span class="n">min</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>
<span class="n">lat_max</span><span class="o">=</span><span class="p">(</span><span class="n">u10_carra</span><span class="o">.</span><span class="n">lat</span><span class="o">.</span><span class="n">max</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>
<span class="n">lat_step</span><span class="o">=</span><span class="p">((</span><span class="n">lat_max</span><span class="o">-</span><span class="n">lat_min</span><span class="p">)</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">u10_carra</span><span class="o">.</span><span class="n">y</span><span class="p">))</span>

<span class="n">ds_out</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">Dataset</span><span class="p">(</span>
    <span class="p">{</span>
        <span class="s2">&quot;lon&quot;</span><span class="p">:</span> <span class="p">([</span><span class="s2">&quot;lon&quot;</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">lon_min</span><span class="p">,</span> <span class="n">lon_max</span><span class="p">,</span> <span class="n">lon_step</span><span class="p">),</span> <span class="p">{</span><span class="s2">&quot;units&quot;</span><span class="p">:</span> <span class="s2">&quot;degrees_north&quot;</span><span class="p">}),</span>
        <span class="s2">&quot;lat&quot;</span><span class="p">:</span> <span class="p">([</span><span class="s2">&quot;lat&quot;</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">lat_min</span><span class="p">,</span> <span class="n">lat_max</span><span class="p">,</span> <span class="n">lat_step</span><span class="p">),</span> <span class="p">{</span><span class="s2">&quot;units&quot;</span><span class="p">:</span> <span class="s2">&quot;degrees_east&quot;</span><span class="p">}),</span>
    <span class="p">}</span>
<span class="p">)</span>

<span class="n">regridder</span> <span class="o">=</span> <span class="n">xe</span><span class="o">.</span><span class="n">Regridder</span><span class="p">(</span><span class="n">u10_carra</span><span class="p">,</span> <span class="n">ds_out</span><span class="p">,</span> <span class="s2">&quot;bilinear&quot;</span><span class="p">)</span>
<span class="n">u10_rg</span><span class="o">=</span><span class="n">regridder</span><span class="p">(</span><span class="n">u10_carra</span><span class="p">[</span><span class="s1">&#39;u10&#39;</span><span class="p">])</span>
<span class="n">v10_rg</span><span class="o">=</span><span class="n">regridder</span><span class="p">(</span><span class="n">v10_carra</span><span class="p">[</span><span class="s1">&#39;v10&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">KeyboardInterrupt</span><span class="g g-Whitespace">                         </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">8</span><span class="p">],</span> <span class="n">line</span> <span class="mi">17</span>
<span class="g g-Whitespace">      </span><span class="mi">8</span> <span class="n">lat_step</span><span class="o">=</span><span class="p">((</span><span class="n">lat_max</span><span class="o">-</span><span class="n">lat_min</span><span class="p">)</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">u10_carra</span><span class="o">.</span><span class="n">y</span><span class="p">))</span>
<span class="g g-Whitespace">     </span><span class="mi">10</span> <span class="n">ds_out</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">Dataset</span><span class="p">(</span>
<span class="g g-Whitespace">     </span><span class="mi">11</span>     <span class="p">{</span>
<span class="g g-Whitespace">     </span><span class="mi">12</span>         <span class="s2">&quot;lon&quot;</span><span class="p">:</span> <span class="p">([</span><span class="s2">&quot;lon&quot;</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">lon_min</span><span class="p">,</span> <span class="n">lon_max</span><span class="p">,</span> <span class="n">lon_step</span><span class="p">),</span> <span class="p">{</span><span class="s2">&quot;units&quot;</span><span class="p">:</span> <span class="s2">&quot;degrees_north&quot;</span><span class="p">}),</span>
<span class="g g-Whitespace">     </span><span class="mi">13</span>         <span class="s2">&quot;lat&quot;</span><span class="p">:</span> <span class="p">([</span><span class="s2">&quot;lat&quot;</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">lat_min</span><span class="p">,</span> <span class="n">lat_max</span><span class="p">,</span> <span class="n">lat_step</span><span class="p">),</span> <span class="p">{</span><span class="s2">&quot;units&quot;</span><span class="p">:</span> <span class="s2">&quot;degrees_east&quot;</span><span class="p">}),</span>
<span class="g g-Whitespace">     </span><span class="mi">14</span>     <span class="p">}</span>
<span class="g g-Whitespace">     </span><span class="mi">15</span> <span class="p">)</span>
<span class="ne">---&gt; </span><span class="mi">17</span> <span class="n">regridder</span> <span class="o">=</span> <span class="n">xe</span><span class="o">.</span><span class="n">Regridder</span><span class="p">(</span><span class="n">u10_carra</span><span class="p">,</span> <span class="n">ds_out</span><span class="p">,</span> <span class="s2">&quot;bilinear&quot;</span><span class="p">)</span>
<span class="g g-Whitespace">     </span><span class="mi">18</span> <span class="n">u10_rg</span><span class="o">=</span><span class="n">regridder</span><span class="p">(</span><span class="n">u10_carra</span><span class="p">[</span><span class="s1">&#39;u10&#39;</span><span class="p">])</span>
<span class="g g-Whitespace">     </span><span class="mi">19</span> <span class="n">v10_rg</span><span class="o">=</span><span class="n">regridder</span><span class="p">(</span><span class="n">v10_carra</span><span class="p">[</span><span class="s1">&#39;v10&#39;</span><span class="p">])</span>

<span class="nn">File ~/.conda/envs/xarray_new/lib/python3.10/site-packages/xesmf/frontend.py:906,</span> in <span class="ni">Regridder.__init__</span><span class="nt">(self, ds_in, ds_out, method, locstream_in, locstream_out, periodic, parallel, **kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">903</span>     <span class="n">grid_out</span><span class="p">,</span> <span class="n">shape_out</span><span class="p">,</span> <span class="n">output_dims</span> <span class="o">=</span> <span class="n">ds_to_ESMFgrid</span><span class="p">(</span><span class="n">ds_out</span><span class="p">,</span> <span class="n">need_bounds</span><span class="o">=</span><span class="n">need_bounds</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">905</span> <span class="c1"># Create the BaseRegridder</span>
<span class="ne">--&gt; </span><span class="mi">906</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">907</span>     <span class="n">grid_in</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">908</span>     <span class="n">grid_out</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">909</span>     <span class="n">method</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">910</span>     <span class="n">input_dims</span><span class="o">=</span><span class="n">input_dims</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">911</span>     <span class="n">output_dims</span><span class="o">=</span><span class="n">output_dims</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">912</span>     <span class="n">parallel</span><span class="o">=</span><span class="n">parallel</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">913</span>     <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">914</span> <span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">916</span> <span class="c1"># Record output grid and metadata</span>
<span class="g g-Whitespace">    </span><span class="mi">917</span> <span class="n">lon_out</span><span class="p">,</span> <span class="n">lat_out</span> <span class="o">=</span> <span class="n">_get_lon_lat</span><span class="p">(</span><span class="n">ds_out</span><span class="p">)</span>

<span class="nn">File ~/.conda/envs/xarray_new/lib/python3.10/site-packages/xesmf/frontend.py:372,</span> in <span class="ni">BaseRegridder.__init__</span><span class="nt">(self, grid_in, grid_out, method, filename, reuse_weights, extrap_method, extrap_dist_exponent, extrap_num_src_pnts, weights, ignore_degenerate, input_dims, output_dims, unmapped_to_nan, parallel)</span>
<span class="g g-Whitespace">    </span><span class="mi">370</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">parallel</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">371</span>     <span class="k">if</span> <span class="ow">not</span> <span class="n">reuse_weights</span> <span class="ow">and</span> <span class="n">weights</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">372</span>         <span class="n">weights</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_compute_weights</span><span class="p">()</span>  <span class="c1"># Dictionary of weights</span>
<span class="g g-Whitespace">    </span><span class="mi">373</span>     <span class="k">else</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">374</span>         <span class="n">weights</span> <span class="o">=</span> <span class="n">filename</span> <span class="k">if</span> <span class="n">filename</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">weights</span>

<span class="nn">File ~/.conda/envs/xarray_new/lib/python3.10/site-packages/xesmf/frontend.py:439,</span> in <span class="ni">BaseRegridder._compute_weights</span><span class="nt">(self)</span>
<span class="g g-Whitespace">    </span><span class="mi">438</span> <span class="k">def</span> <span class="nf">_compute_weights</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="ne">--&gt; </span><span class="mi">439</span>     <span class="n">regrid</span> <span class="o">=</span> <span class="n">esmf_regrid_build</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">440</span>         <span class="bp">self</span><span class="o">.</span><span class="n">grid_in</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">441</span>         <span class="bp">self</span><span class="o">.</span><span class="n">grid_out</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">442</span>         <span class="bp">self</span><span class="o">.</span><span class="n">method</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">443</span>         <span class="n">extrap_method</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">extrap_method</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">444</span>         <span class="n">extrap_dist_exponent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">extrap_dist_exponent</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">445</span>         <span class="n">extrap_num_src_pnts</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">extrap_num_src_pnts</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">446</span>         <span class="n">ignore_degenerate</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">ignore_degenerate</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">447</span>     <span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">449</span>     <span class="n">w</span> <span class="o">=</span> <span class="n">regrid</span><span class="o">.</span><span class="n">get_weights_dict</span><span class="p">(</span><span class="n">deep_copy</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">450</span>     <span class="n">esmf_regrid_finalize</span><span class="p">(</span><span class="n">regrid</span><span class="p">)</span>  <span class="c1"># only need weights, not regrid object</span>

<span class="nn">File ~/.conda/envs/xarray_new/lib/python3.10/site-packages/xesmf/backend.py:483,</span> in <span class="ni">esmf_regrid_build</span><span class="nt">(sourcegrid, destgrid, method, filename, extra_dims, extrap_method, extrap_dist_exponent, extrap_num_src_pnts, ignore_degenerate)</span>
<span class="g g-Whitespace">    </span><span class="mi">480</span> <span class="k">if</span> <span class="n">allow_masked_values</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">481</span>     <span class="n">kwargs</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span><span class="n">src_mask_values</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">dst_mask_values</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
<span class="ne">--&gt; </span><span class="mi">483</span> <span class="n">regrid</span> <span class="o">=</span> <span class="n">ESMF</span><span class="o">.</span><span class="n">Regrid</span><span class="p">(</span><span class="n">sourcefield</span><span class="p">,</span> <span class="n">destfield</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">485</span> <span class="k">return</span> <span class="n">regrid</span>

<span class="nn">File ~/.conda/envs/xarray_new/lib/python3.10/site-packages/esmpy/util/decorators.py:59,</span> in <span class="ni">initialize.&lt;locals&gt;.new_func</span><span class="nt">(*args, **kwargs)</span>
<span class="g g-Whitespace">     </span><span class="mi">56</span> <span class="kn">from</span> <span class="nn">esmpy.api</span> <span class="kn">import</span> <span class="n">esmpymanager</span>
<span class="g g-Whitespace">     </span><span class="mi">58</span> <span class="n">esmp</span> <span class="o">=</span> <span class="n">esmpymanager</span><span class="o">.</span><span class="n">Manager</span><span class="p">(</span><span class="n">debug</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>
<span class="ne">---&gt; </span><span class="mi">59</span> <span class="k">return</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

<span class="nn">File ~/.conda/envs/xarray_new/lib/python3.10/site-packages/esmpy/api/regrid.py:179,</span> in <span class="ni">Regrid.__init__</span><span class="nt">(self, srcfield, dstfield, filename, rh_filename, src_mask_values, dst_mask_values, regrid_method, pole_method, regrid_pole_npoints, line_type, norm_type, extrap_method, extrap_num_src_pnts, extrap_dist_exponent, extrap_num_levels, unmapped_action, ignore_degenerate, create_rh, filemode, src_file, dst_file, src_file_type, dst_file_type, factors, large_file, src_frac_field, dst_frac_field)</span>
<span class="g g-Whitespace">    </span><span class="mi">176</span>     <span class="n">fil</span> <span class="o">=</span> <span class="kc">None</span>
<span class="g g-Whitespace">    </span><span class="mi">177</span>     <span class="n">num_factors</span> <span class="o">=</span> <span class="kc">None</span>
<span class="ne">--&gt; </span><span class="mi">179</span> <span class="bp">self</span><span class="o">.</span><span class="n">_routehandle</span> <span class="o">=</span> <span class="n">ESMP_FieldRegridStore</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">180</span>     <span class="n">srcfield</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">181</span>     <span class="n">dstfield</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">182</span>     <span class="n">srcMaskValues</span><span class="o">=</span><span class="n">src_mask_values</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">183</span>     <span class="n">dstMaskValues</span><span class="o">=</span><span class="n">dst_mask_values</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">184</span>     <span class="n">regridmethod</span><span class="o">=</span><span class="n">regrid_method</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">185</span>     <span class="n">polemethod</span><span class="o">=</span><span class="n">pole_method</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">186</span>     <span class="n">regridPoleNPnts</span><span class="o">=</span><span class="n">regrid_pole_npoints</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">187</span>     <span class="n">lineType</span><span class="o">=</span><span class="n">line_type</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">188</span>     <span class="n">normType</span><span class="o">=</span><span class="n">norm_type</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">189</span>     <span class="n">extrapMethod</span><span class="o">=</span><span class="n">extrap_method</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">190</span>     <span class="n">extrapNumSrcPnts</span><span class="o">=</span><span class="n">extrap_num_src_pnts</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">191</span>     <span class="n">extrapDistExponent</span><span class="o">=</span><span class="n">extrap_dist_exponent</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">192</span>     <span class="n">extrapNumLevels</span><span class="o">=</span><span class="n">extrap_num_levels</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">193</span>     <span class="n">unmappedaction</span><span class="o">=</span><span class="n">unmapped_action</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">194</span>     <span class="n">ignoreDegenerate</span><span class="o">=</span><span class="n">ignore_degenerate</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">195</span>     <span class="n">factorList</span><span class="o">=</span><span class="n">fl</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">196</span>     <span class="n">factorIndexList</span><span class="o">=</span><span class="n">fil</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">197</span>     <span class="n">numFactors</span><span class="o">=</span><span class="n">num_factors</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">198</span>     <span class="n">srcFracField</span><span class="o">=</span><span class="n">src_frac_field</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">199</span>     <span class="n">dstFracField</span><span class="o">=</span><span class="n">dst_frac_field</span>
<span class="g g-Whitespace">    </span><span class="mi">200</span> <span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">202</span> <span class="c1"># If we are returning factors, store them and cast/convert from</span>
<span class="g g-Whitespace">    </span><span class="mi">203</span> <span class="c1"># ctypes</span>
<span class="g g-Whitespace">    </span><span class="mi">204</span> <span class="k">if</span> <span class="n">factors</span><span class="p">:</span>

<span class="nn">File ~/.conda/envs/xarray_new/lib/python3.10/site-packages/esmpy/interface/cbindings.py:2111,</span> in <span class="ni">ESMP_FieldRegridStore</span><span class="nt">(srcField, dstField, srcMaskValues, dstMaskValues, regridmethod, polemethod, regridPoleNPnts, lineType, normType, extrapMethod, extrapNumSrcPnts, extrapDistExponent, extrapNumLevels, unmappedaction, ignoreDegenerate, factorList, factorIndexList, numFactors, srcFracField, dstFracField)</span>
<span class="g g-Whitespace">   </span><span class="mi">2108</span>     <span class="n">arg_factorList</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">factorList</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">2109</span>     <span class="n">arg_factorIndexList</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">factorIndexList</span><span class="p">)</span>
<span class="ne">-&gt; </span><span class="mi">2111</span> <span class="n">rc</span> <span class="o">=</span> <span class="n">_ESMF</span><span class="o">.</span><span class="n">ESMC_FieldRegridStore</span><span class="p">(</span><span class="n">srcField</span><span class="o">.</span><span class="n">struct</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">2112</span>                                  <span class="n">dstField</span><span class="o">.</span><span class="n">struct</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">2113</span>                                  <span class="n">srcMaskValues_i</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">2114</span>                                  <span class="n">dstMaskValues_i</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">2115</span>                                  <span class="n">ct</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">routehandle</span><span class="p">),</span>
<span class="g g-Whitespace">   </span><span class="mi">2116</span>                                  <span class="n">regridmethod</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">2117</span>                                  <span class="n">polemethod</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">2118</span>                                  <span class="n">regridPoleNPnts_ct</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">2119</span>                                  <span class="n">lineType</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">2120</span>                                  <span class="n">normType</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">2121</span>                                  <span class="n">extrapMethod</span><span class="p">,</span> 
<span class="g g-Whitespace">   </span><span class="mi">2122</span>                                  <span class="n">extrapNumSrcPnts</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">2123</span>                                  <span class="n">extrapDistExponent</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">2124</span>                                  <span class="n">extrapNumLevels</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">2125</span>                                  <span class="n">unmappedaction</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">2126</span>                                  <span class="n">ignoreDegenerate</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">2127</span>                                  <span class="n">arg_factorList</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">2128</span>                                  <span class="n">arg_factorIndexList</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">2129</span>                                  <span class="n">ct</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">numfac</span><span class="p">),</span>
<span class="g g-Whitespace">   </span><span class="mi">2130</span>                                  <span class="n">srcFracField</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">2131</span>                                  <span class="n">dstFracField</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">2133</span> <span class="n">handle_esmf_error</span><span class="p">(</span><span class="n">rc</span><span class="p">,</span> <span class="s1">&#39;ESMC_FieldRegridStore&#39;</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">2135</span> <span class="c1"># Assign the outgoing pointer for the factor count if we are returning</span>
<span class="g g-Whitespace">   </span><span class="mi">2136</span> <span class="c1"># factors.</span>

<span class="ne">KeyboardInterrupt</span>: 
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">u10</span><span class="o">=</span><span class="n">era</span><span class="p">[</span><span class="s1">&#39;u10&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">latitude</span><span class="o">=</span><span class="mf">64.3</span><span class="p">,</span><span class="n">method</span><span class="o">=</span><span class="s1">&#39;nearest&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">longitude</span><span class="o">=-</span><span class="mf">21.7</span><span class="p">,</span><span class="n">method</span><span class="o">=</span><span class="s1">&#39;nearest&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">load</span><span class="p">()</span>
<span class="n">v10</span><span class="o">=</span><span class="n">era</span><span class="p">[</span><span class="s1">&#39;v10&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">latitude</span><span class="o">=</span><span class="mf">64.3</span><span class="p">,</span><span class="n">method</span><span class="o">=</span><span class="s1">&#39;nearest&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">longitude</span><span class="o">=-</span><span class="mf">21.7</span><span class="p">,</span><span class="n">method</span><span class="o">=</span><span class="s1">&#39;nearest&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">load</span><span class="p">()</span>
<span class="c1">#u10_cr=u10_rg.sel(lat=64.3,method=&#39;nearest&#39;).sel(lon=360-21.7,method=&#39;nearest&#39;).load()</span>
<span class="c1">#v10_cr=v10_rg.sel(lat=64.3,method=&#39;nearest&#39;).sel(lon=360-21.7,method=&#39;nearest&#39;).load()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#u10_rg.to_netcdf(&#39;/expanse/lustre/projects/cos100/uheede/Arctic_datasets/u10_reanalysis_regrid.nc&#39;)</span>
<span class="c1">#v10_rg.to_netcdf(&#39;/expanse/lustre/projects/cos100/uheede/Arctic_datasets/v10_reanalysis_regrid.nc&#39;)</span>

<span class="n">u10_cr</span><span class="o">=</span><span class="n">u10_rg</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">lat</span><span class="o">=</span><span class="mf">64.3</span><span class="p">,</span><span class="n">method</span><span class="o">=</span><span class="s1">&#39;nearest&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">lon</span><span class="o">=</span><span class="mi">360</span><span class="o">-</span><span class="mf">21.7</span><span class="p">,</span><span class="n">method</span><span class="o">=</span><span class="s1">&#39;nearest&#39;</span><span class="p">)</span>
<span class="n">v10_cr</span><span class="o">=</span><span class="n">v10_rg</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">lat</span><span class="o">=</span><span class="mf">64.3</span><span class="p">,</span><span class="n">method</span><span class="o">=</span><span class="s1">&#39;nearest&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">lon</span><span class="o">=</span><span class="mi">360</span><span class="o">-</span><span class="mf">21.7</span><span class="p">,</span><span class="n">method</span><span class="o">=</span><span class="s1">&#39;nearest&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">11</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">u10_rg</span><span class="o">.</span><span class="n">to_netcdf</span><span class="p">(</span><span class="s1">&#39;/expanse/lustre/projects/cos100/uheede/Arctic_datasets/u10_reanalysis_regrid.nc&#39;</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span> <span class="n">v10_rg</span><span class="o">.</span><span class="n">to_netcdf</span><span class="p">(</span><span class="s1">&#39;/expanse/lustre/projects/cos100/uheede/Arctic_datasets/v10_reanalysis_regrid.nc&#39;</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span> <span class="n">u10_cr</span><span class="o">=</span><span class="n">u10_rg</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">lat</span><span class="o">=</span><span class="mf">64.3</span><span class="p">,</span><span class="n">method</span><span class="o">=</span><span class="s1">&#39;nearest&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">lon</span><span class="o">=</span><span class="mi">360</span><span class="o">-</span><span class="mf">21.7</span><span class="p">,</span><span class="n">method</span><span class="o">=</span><span class="s1">&#39;nearest&#39;</span><span class="p">)</span>

<span class="ne">NameError</span>: name &#39;u10_rg&#39; is not defined
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">u10_rg</span><span class="o">=</span><span class="n">xr</span><span class="o">.</span><span class="n">open_dataset</span><span class="p">(</span><span class="s1">&#39;/expanse/lustre/projects/cos100/uheede/Arctic_datasets/u10_reanalysis_regrid.nc&#39;</span><span class="p">)</span>
<span class="n">u10_cr</span><span class="o">=</span><span class="n">u10_rg</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">lat</span><span class="o">=</span><span class="mf">64.3</span><span class="p">,</span><span class="n">method</span><span class="o">=</span><span class="s1">&#39;nearest&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">lon</span><span class="o">=</span><span class="mi">360</span><span class="o">-</span><span class="mf">21.7</span><span class="p">,</span><span class="n">method</span><span class="o">=</span><span class="s1">&#39;nearest&#39;</span><span class="p">)</span>

<span class="n">v10_rg</span><span class="o">=</span><span class="n">xr</span><span class="o">.</span><span class="n">open_dataset</span><span class="p">(</span><span class="s1">&#39;/expanse/lustre/projects/cos100/uheede/Arctic_datasets/v10_reanalysis_regrid.nc&#39;</span><span class="p">)</span>
<span class="n">v10_cr</span><span class="o">=</span><span class="n">v10_rg</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">lat</span><span class="o">=</span><span class="mf">64.3</span><span class="p">,</span><span class="n">method</span><span class="o">=</span><span class="s1">&#39;nearest&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">lon</span><span class="o">=</span><span class="mi">360</span><span class="o">-</span><span class="mf">21.7</span><span class="p">,</span><span class="n">method</span><span class="o">=</span><span class="s1">&#39;nearest&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">forecast</span><span class="o">=</span><span class="n">xr</span><span class="o">.</span><span class="n">open_dataset</span><span class="p">(</span><span class="s1">&#39;/expanse/lustre/projects/cos100/uheede/Arctic_datasets/arome_arctic_lagged_12_h_latest_2_5km_latest.nc&#39;</span><span class="p">)</span>
<span class="n">forecast</span> <span class="o">=</span> <span class="n">forecast</span><span class="o">.</span><span class="n">rename</span><span class="p">({</span><span class="s2">&quot;longitude&quot;</span><span class="p">:</span> <span class="s2">&quot;lon&quot;</span><span class="p">,</span> <span class="s2">&quot;latitude&quot;</span><span class="p">:</span> <span class="s2">&quot;lat&quot;</span><span class="p">})</span>

<span class="c1">#forecast=forecast.assign_coords({&quot;lon&quot;: (forecast.lon % 360)})</span>

<span class="n">lon_min</span><span class="o">=</span><span class="p">(</span><span class="n">forecast</span><span class="o">.</span><span class="n">lon</span><span class="o">.</span><span class="n">min</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>
<span class="n">lon_max</span><span class="o">=</span><span class="p">(</span><span class="n">forecast</span><span class="o">.</span><span class="n">lon</span><span class="o">.</span><span class="n">max</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>
<span class="n">lon_step</span><span class="o">=</span><span class="p">((</span><span class="n">lon_max</span><span class="o">-</span><span class="n">lon_min</span><span class="p">)</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">forecast</span><span class="o">.</span><span class="n">x</span><span class="p">))</span>

<span class="n">lat_min</span><span class="o">=</span><span class="p">(</span><span class="n">forecast</span><span class="o">.</span><span class="n">lat</span><span class="o">.</span><span class="n">min</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>
<span class="n">lat_max</span><span class="o">=</span><span class="p">(</span><span class="n">forecast</span><span class="o">.</span><span class="n">lat</span><span class="o">.</span><span class="n">max</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>
<span class="n">lat_step</span><span class="o">=</span><span class="p">((</span><span class="n">lat_max</span><span class="o">-</span><span class="n">lat_min</span><span class="p">)</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">forecast</span><span class="o">.</span><span class="n">y</span><span class="p">))</span>

<span class="n">ds_out</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">Dataset</span><span class="p">(</span>
    <span class="p">{</span>
        <span class="s2">&quot;lon&quot;</span><span class="p">:</span> <span class="p">([</span><span class="s2">&quot;lon&quot;</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">lon_min</span><span class="p">,</span> <span class="n">lon_max</span><span class="p">,</span> <span class="n">lon_step</span><span class="p">),</span> <span class="p">{</span><span class="s2">&quot;units&quot;</span><span class="p">:</span> <span class="s2">&quot;degrees_north&quot;</span><span class="p">}),</span>
        <span class="s2">&quot;lat&quot;</span><span class="p">:</span> <span class="p">([</span><span class="s2">&quot;lat&quot;</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">lat_min</span><span class="p">,</span> <span class="n">lat_max</span><span class="p">,</span> <span class="n">lat_step</span><span class="p">),</span> <span class="p">{</span><span class="s2">&quot;units&quot;</span><span class="p">:</span> <span class="s2">&quot;degrees_east&quot;</span><span class="p">}),</span>
    <span class="p">}</span>
<span class="p">)</span>

<span class="n">regridder</span> <span class="o">=</span> <span class="n">xe</span><span class="o">.</span><span class="n">Regridder</span><span class="p">(</span><span class="n">forecast</span><span class="p">,</span> <span class="n">ds_out</span><span class="p">,</span> <span class="s2">&quot;bilinear&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">u10_rg_fc</span><span class="o">=</span><span class="n">regridder</span><span class="p">(</span><span class="n">forecast</span><span class="p">[</span><span class="s1">&#39;x_wind_10m&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">ensemble_member</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">squeeze</span><span class="p">())</span>
<span class="n">u10_rg_fc1</span><span class="o">=</span><span class="n">u10_rg_fc</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">lat</span><span class="o">=</span><span class="mf">64.3</span><span class="p">,</span><span class="n">method</span><span class="o">=</span><span class="s1">&#39;nearest&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">lon</span><span class="o">=</span><span class="mi">360</span><span class="o">-</span><span class="mf">21.7</span><span class="p">,</span><span class="n">method</span><span class="o">=</span><span class="s1">&#39;nearest&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">squeeze</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">contourf</span><span class="p">(</span><span class="n">u10_rg_fc</span><span class="o">.</span><span class="n">lon</span><span class="p">,</span><span class="n">u10_rg_fc</span><span class="o">.</span><span class="n">lat</span><span class="p">,</span><span class="n">u10_rg_fc</span><span class="o">.</span><span class="n">squeeze</span><span class="p">()</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">time</span><span class="o">=</span><span class="mi">40</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.contour.QuadContourSet at 0x1554c818bb50&gt;
</pre></div>
</div>
<img alt="_images/5f19392be6d2328d92f79dd94db0df8fc3f037ee58bb16416efbc1ee35fd8447.png" src="_images/5f19392be6d2328d92f79dd94db0df8fc3f037ee58bb16416efbc1ee35fd8447.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">forecast</span><span class="o">.</span><span class="n">lon</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewBox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewBox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
  --xr-border-color: var(--jp-border-color2, #e0e0e0);
  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
  --xr-background-color: var(--jp-layout-color0, white);
  --xr-background-color-row-even: var(--jp-layout-color1, white);
  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
}

html[theme=dark],
body[data-theme=dark],
body.vscode-dark {
  --xr-font-color0: rgba(255, 255, 255, 1);
  --xr-font-color2: rgba(255, 255, 255, 0.54);
  --xr-font-color3: rgba(255, 255, 255, 0.38);
  --xr-border-color: #1F1F1F;
  --xr-disabled-color: #515151;
  --xr-background-color: #111111;
  --xr-background-color-row-even: #111111;
  --xr-background-color-row-odd: #313131;
}

.xr-wrap {
  display: block !important;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 20px 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: none;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: '►';
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: '▼';
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: '(';
}

.xr-dim-list:after {
  content: ')';
}

.xr-dim-list li:not(:last-child):after {
  content: ',';
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  margin-bottom: 0;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-index-preview {
  grid-column: 2 / 5;
  color: var(--xr-font-color2);
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  display: none;
  background-color: var(--xr-background-color) !important;
  padding-bottom: 5px !important;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data,
.xr-index-data-in:checked ~ .xr-index-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-name span,
.xr-var-data,
.xr-index-name div,
.xr-index-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2,
.xr-no-icon {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}
</style><pre class='xr-text-repr-fallback'>&lt;xarray.DataArray &#x27;lon&#x27; (y: 949, x: 739)&gt;
array([[-17.956718, -17.894133, -17.831565, ...,  18.55296 ,  18.587438,
         18.621878],
       [-17.949161, -17.886511, -17.823877, ...,  18.584611,  18.619092,
         18.653536],
       [-17.941589, -17.878873, -17.816173, ...,  18.6163  ,  18.650784,
         18.68523 ],
       ...,
       [ 78.541333,  78.442812,  78.345966, ...,  68.697202,  68.695421,
         68.693644],
       [ 79.047574,  78.944895,  78.843955, ...,  68.766405,  68.764542,
         68.762684],
       [ 79.552032,  79.445239,  79.340249, ...,  68.835604,  68.83366 ,
         68.83172 ]])
Coordinates:
  * x        (x) float32 2.786e+05 2.811e+05 2.836e+05 ... 2.121e+06 2.124e+06
  * y        (y) float32 -8.98e+05 -8.955e+05 -8.93e+05 ... 1.47e+06 1.472e+06
    lon      (y, x) float64 -17.96 -17.89 -17.83 -17.77 ... 68.84 68.83 68.83
    lat      (y, x) float64 69.3 69.3 69.29 69.29 ... 71.18 71.15 71.13 71.11
Attributes:
    units:          degree_east
    long_name:      longitude
    standard_name:  longitude</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.DataArray</div><div class='xr-array-name'>'lon'</div><ul class='xr-dim-list'><li><span class='xr-has-index'>y</span>: 949</li><li><span class='xr-has-index'>x</span>: 739</li></ul></div><ul class='xr-sections'><li class='xr-section-item'><div class='xr-array-wrap'><input id='section-33fafaa2-6689-43d4-aedc-6588ae57e18b' class='xr-array-in' type='checkbox' checked><label for='section-33fafaa2-6689-43d4-aedc-6588ae57e18b' title='Show/hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-array-preview xr-preview'><span>-17.96 -17.89 -17.83 -17.77 -17.71 ... 68.84 68.84 68.84 68.83 68.83</span></div><div class='xr-array-data'><pre>array([[-17.956718, -17.894133, -17.831565, ...,  18.55296 ,  18.587438,
         18.621878],
       [-17.949161, -17.886511, -17.823877, ...,  18.584611,  18.619092,
         18.653536],
       [-17.941589, -17.878873, -17.816173, ...,  18.6163  ,  18.650784,
         18.68523 ],
       ...,
       [ 78.541333,  78.442812,  78.345966, ...,  68.697202,  68.695421,
         68.693644],
       [ 79.047574,  78.944895,  78.843955, ...,  68.766405,  68.764542,
         68.762684],
       [ 79.552032,  79.445239,  79.340249, ...,  68.835604,  68.83366 ,
         68.83172 ]])</pre></div></div></li><li class='xr-section-item'><input id='section-2e29f527-4d01-49fd-bf2e-7492aa388ca5' class='xr-section-summary-in' type='checkbox'  checked><label for='section-2e29f527-4d01-49fd-bf2e-7492aa388ca5' class='xr-section-summary' >Coordinates: <span>(4)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>x</span></div><div class='xr-var-dims'>(x)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>2.786e+05 2.811e+05 ... 2.124e+06</div><input id='attrs-6b3bb1f0-fe9e-4875-a33b-f434ddf4950e' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-6b3bb1f0-fe9e-4875-a33b-f434ddf4950e' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-604203d4-c587-4180-8ea4-b08cad09a2dd' class='xr-var-data-in' type='checkbox'><label for='data-604203d4-c587-4180-8ea4-b08cad09a2dd' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>x-coordinate in Cartesian system</dd><dt><span>standard_name :</span></dt><dd>projection_x_coordinate</dd><dt><span>units :</span></dt><dd>m</dd></dl></div><div class='xr-var-data'><pre>array([ 278620.94,  281120.94,  283620.94, ..., 2118621.  , 2121121.  ,
       2123621.  ], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>y</span></div><div class='xr-var-dims'>(y)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>-8.98e+05 -8.955e+05 ... 1.472e+06</div><input id='attrs-9c025844-1455-44c9-8f44-c31bef397608' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-9c025844-1455-44c9-8f44-c31bef397608' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-ea4005ae-79ec-4cb8-86bc-b5f77ee094e6' class='xr-var-data-in' type='checkbox'><label for='data-ea4005ae-79ec-4cb8-86bc-b5f77ee094e6' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>y-coordinate in Cartesian system</dd><dt><span>standard_name :</span></dt><dd>projection_y_coordinate</dd><dt><span>units :</span></dt><dd>m</dd></dl></div><div class='xr-var-data'><pre>array([-897985.7, -895485.7, -892985.7, ..., 1467014.2, 1469514.2, 1472014.2],
      dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>lon</span></div><div class='xr-var-dims'>(y, x)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>-17.96 -17.89 ... 68.83 68.83</div><input id='attrs-6ac7f72d-4833-48c6-9978-04c4f635f626' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-6ac7f72d-4833-48c6-9978-04c4f635f626' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-0af80b35-3856-4dcf-94fe-1188f562ee45' class='xr-var-data-in' type='checkbox'><label for='data-0af80b35-3856-4dcf-94fe-1188f562ee45' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>units :</span></dt><dd>degree_east</dd><dt><span>long_name :</span></dt><dd>longitude</dd><dt><span>standard_name :</span></dt><dd>longitude</dd></dl></div><div class='xr-var-data'><pre>array([[-17.956718, -17.894133, -17.831565, ...,  18.55296 ,  18.587438,
         18.621878],
       [-17.949161, -17.886511, -17.823877, ...,  18.584611,  18.619092,
         18.653536],
       [-17.941589, -17.878873, -17.816173, ...,  18.6163  ,  18.650784,
         18.68523 ],
       ...,
       [ 78.541333,  78.442812,  78.345966, ...,  68.697202,  68.695421,
         68.693644],
       [ 79.047574,  78.944895,  78.843955, ...,  68.766405,  68.764542,
         68.762684],
       [ 79.552032,  79.445239,  79.340249, ...,  68.835604,  68.83366 ,
         68.83172 ]])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>lat</span></div><div class='xr-var-dims'>(y, x)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>69.3 69.3 69.29 ... 71.13 71.11</div><input id='attrs-ce321277-9d02-4b84-8834-7a40ebdb985f' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-ce321277-9d02-4b84-8834-7a40ebdb985f' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-38154901-4de0-449a-afb6-3f4ee3dfa9b2' class='xr-var-data-in' type='checkbox'><label for='data-38154901-4de0-449a-afb6-3f4ee3dfa9b2' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>units :</span></dt><dd>degree_north</dd><dt><span>long_name :</span></dt><dd>latitude</dd><dt><span>standard_name :</span></dt><dd>latitude</dd></dl></div><div class='xr-var-data'><pre>array([[69.298502, 69.295822, 69.293118, ..., 62.163256, 62.14848 , 62.133696],
       [69.320629, 69.317946, 69.315239, ..., 62.17936 , 62.164575, 62.149782],
       [69.342756, 69.34007 , 69.337361, ..., 62.195457, 62.180663, 62.16586 ],
       ...,
       [87.574014, 87.552543, 87.53106 , ..., 71.154375, 71.132021, 71.109667],
       [87.569715, 87.54828 , 87.526833, ..., 71.153786, 71.131432, 71.109079],
       [87.565231, 87.543833, 87.522423, ..., 71.15317 , 71.130817, 71.108465]])</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-494fa8b3-e950-4c40-b241-1a74fbaf874c' class='xr-section-summary-in' type='checkbox'  ><label for='section-494fa8b3-e950-4c40-b241-1a74fbaf874c' class='xr-section-summary' >Indexes: <span>(2)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-index-name'><div>x</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-92b6c3e2-3a1f-4a91-ae19-e4e4ed71539c' class='xr-index-data-in' type='checkbox'/><label for='index-92b6c3e2-3a1f-4a91-ae19-e4e4ed71539c' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([278620.9375, 281120.9375, 283620.9375, 286120.9375, 288620.9375,
       291120.9375, 293620.9375, 296120.9375, 298620.9375, 301120.9375,
       ...
         2101121.0,   2103621.0,   2106121.0,   2108621.0,   2111121.0,
         2113621.0,   2116121.0,   2118621.0,   2121121.0,   2123621.0],
      dtype=&#x27;float32&#x27;, name=&#x27;x&#x27;, length=739))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>y</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-b8bb4fce-6aba-4a8c-bc3c-1fcf562e2bf8' class='xr-index-data-in' type='checkbox'/><label for='index-b8bb4fce-6aba-4a8c-bc3c-1fcf562e2bf8' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([-897985.6875, -895485.6875, -892985.6875, -890485.6875, -887985.6875,
       -885485.6875, -882985.6875, -880485.6875, -877985.6875, -875485.6875,
       ...
         1449514.25,   1452014.25,   1454514.25,   1457014.25,   1459514.25,
         1462014.25,   1464514.25,   1467014.25,   1469514.25,   1472014.25],
      dtype=&#x27;float32&#x27;, name=&#x27;y&#x27;, length=949))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-24ab69b8-5fb6-4ac8-911d-1b3aeef97461' class='xr-section-summary-in' type='checkbox'  checked><label for='section-24ab69b8-5fb6-4ac8-911d-1b3aeef97461' class='xr-section-summary' >Attributes: <span>(3)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'><dt><span>units :</span></dt><dd>degree_east</dd><dt><span>long_name :</span></dt><dd>longitude</dd><dt><span>standard_name :</span></dt><dd>longitude</dd></dl></div></li></ul></div></div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">time1</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">u</span><span class="p">))</span>
<span class="n">time2</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">u10</span><span class="p">)</span><span class="o">*</span><span class="mi">6</span><span class="p">,</span><span class="mi">6</span><span class="p">)</span>
<span class="n">time3</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">u10_cr</span><span class="p">[</span><span class="s1">&#39;u10&#39;</span><span class="p">]</span><span class="o">*</span><span class="mi">2</span><span class="o">/</span><span class="mi">4</span><span class="p">)</span><span class="o">*</span><span class="mi">6</span><span class="o">*</span><span class="mi">3</span><span class="o">*</span><span class="mi">2</span><span class="o">/</span><span class="mi">4</span><span class="p">,</span><span class="mi">6</span><span class="o">*</span><span class="mi">3</span><span class="o">*</span><span class="mi">2</span><span class="o">/</span><span class="mi">4</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">time1</span><span class="p">,</span><span class="n">u</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;Grundartangi station&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">time3</span><span class="p">,</span><span class="n">u10_cr</span><span class="p">[</span><span class="s1">&#39;u10&#39;</span><span class="p">],</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;Carra&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">time2</span><span class="p">,</span><span class="n">u10</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;era5&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;U-component of the wind&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;m/s&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;10 min intervals since June 1st 2012&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Text(0.5, 0, &#39;10 min intervals since June 1st 2012&#39;)
</pre></div>
</div>
<img alt="_images/b181f422ccb7992e6d7c1c1eda399807906de4588a4974447492cf6e41a2ef4a.png" src="_images/b181f422ccb7992e6d7c1c1eda399807906de4588a4974447492cf6e41a2ef4a.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">time1</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">v</span><span class="p">))</span>
<span class="n">time2</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">v10</span><span class="p">)</span><span class="o">*</span><span class="mi">6</span><span class="p">,</span><span class="mi">6</span><span class="p">)</span>
<span class="n">time3</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">v10_cr</span><span class="p">[</span><span class="s1">&#39;v10&#39;</span><span class="p">]</span><span class="o">*</span><span class="mi">2</span><span class="o">/</span><span class="mi">5</span><span class="p">)</span><span class="o">*</span><span class="mi">6</span><span class="o">*</span><span class="mi">3</span><span class="o">*</span><span class="mi">2</span><span class="o">/</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="o">*</span><span class="mi">3</span><span class="o">*</span><span class="mi">2</span><span class="o">/</span><span class="mi">5</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">time1</span><span class="p">,</span><span class="n">u</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;Grundartangi station&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">time3</span><span class="p">,</span><span class="n">v10_cr</span><span class="p">[</span><span class="s1">&#39;v10&#39;</span><span class="p">],</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;Carra&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">time2</span><span class="p">,</span><span class="n">v10</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;era5&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;V-component of the wind&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">time1</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">v</span><span class="p">))</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span> <span class="n">time2</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">v10</span><span class="p">)</span><span class="o">*</span><span class="mi">6</span><span class="p">,</span><span class="mi">6</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span> <span class="n">time3</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">v10_cr</span><span class="p">[</span><span class="s1">&#39;v10&#39;</span><span class="p">]</span><span class="o">*</span><span class="mi">2</span><span class="o">/</span><span class="mi">5</span><span class="p">)</span><span class="o">*</span><span class="mi">6</span><span class="o">*</span><span class="mi">3</span><span class="o">*</span><span class="mi">2</span><span class="o">/</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="o">*</span><span class="mi">3</span><span class="o">*</span><span class="mi">2</span><span class="o">/</span><span class="mi">5</span><span class="p">)</span>

<span class="ne">NameError</span>: name &#39;v&#39; is not defined
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">woa</span><span class="o">=</span><span class="n">xr</span><span class="o">.</span><span class="n">open_mfdataset</span><span class="p">(</span><span class="s1">&#39;/expanse/lustre/projects/cos100/uheede/WOA_data/*&#39;</span><span class="p">,</span> <span class="n">combine</span><span class="o">=</span><span class="s1">&#39;nested&#39;</span><span class="p">,</span> <span class="n">concat_dim</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;time&quot;</span><span class="p">],</span><span class="n">decode_times</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="c1">#roms1=xr.open_mfdataset(&#39;/expanse/lustre/projects/cos100/uheede/roms/run/Iceland2_BGC/Iceland2_BGC_rnd.201205*130000.nc&#39;, combine=&#39;nested&#39;, concat_dim=[&quot;time&quot;],decode_times=False)</span>
<span class="c1">#roms2=xr.open_mfdataset(&#39;/expanse/lustre/projects/cos100/uheede/roms/run/Iceland2_BGC/Iceland2_BGC_rnd.201206*130000.nc&#39;, combine=&#39;nested&#39;, concat_dim=[&quot;time&quot;],decode_times=False)</span>
<span class="c1">#roms3=xr.open_mfdataset(&#39;/expanse/lustre/projects/cos100/uheede/roms/run/Iceland2_BGC/Iceland2_BGC_rnd.201207*130000.nc&#39;, combine=&#39;nested&#39;, concat_dim=[&quot;time&quot;],decode_times=False)</span>
<span class="n">grid</span><span class="o">=</span><span class="n">xr</span><span class="o">.</span><span class="n">open_mfdataset</span><span class="p">(</span><span class="s1">&#39;/expanse/lustre/projects/cos100/uheede/roms/work/Iceland2_BGC/INPUT/Iceland2_grd.nc&#39;</span><span class="p">)</span>
<span class="n">filelist</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="s1">&#39;/expanse/lustre/projects/cos100/uheede/roms/run/Iceland2_BGC/HOLD_RND&#39;</span><span class="p">)</span>


<span class="n">roms1</span><span class="o">=</span><span class="n">xr</span><span class="o">.</span><span class="n">open_mfdataset</span><span class="p">(</span><span class="s1">&#39;/expanse/lustre/projects/cos100/uheede/roms/run/Iceland2_BGC/HOLD_RND/&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">filelist</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="n">combine</span><span class="o">=</span><span class="s1">&#39;nested&#39;</span><span class="p">,</span> <span class="n">concat_dim</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;time&quot;</span><span class="p">],</span><span class="n">decode_times</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">t1</span><span class="o">=</span><span class="n">roms1</span><span class="p">[</span><span class="s1">&#39;t&#39;</span><span class="p">]</span>
<span class="n">t1</span><span class="o">=</span><span class="n">roms_regrid</span><span class="p">(</span><span class="n">grid</span><span class="p">,</span><span class="n">t1</span><span class="p">)</span>
<span class="n">t</span><span class="o">=</span><span class="n">t1</span><span class="o">.</span><span class="n">load</span><span class="p">()</span>
<span class="n">t</span><span class="o">.</span><span class="n">to_netcdf</span><span class="p">(</span><span class="s1">&#39;/expanse/lustre/projects/cos100/uheede/roms/run/Iceland2_BGC/HOLD_RND/&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">filelist</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">+</span><span class="s1">&#39;_t_regrid&#39;</span><span class="p">)</span>

<span class="c1">#for i in np.arange(1,len(filelist)):</span>
<span class="c1">#    roms1=xr.open_mfdataset(&#39;/expanse/lustre/projects/cos100/uheede/roms/run/Iceland2_BGC/HOLD_RND/&#39;+str(filelist[0]), combine=&#39;nested&#39;, concat_dim=[&quot;time&quot;],decode_times=False)</span>
<span class="c1">#    t1=roms1[&#39;t&#39;]</span>
<span class="c1">#    t1=roms_regrid(grid,t1)</span>
<span class="c1">#    t1=t1.load()</span>
<span class="c1">#    t1.to_netcdf(&#39;/expanse/lustre/projects/cos100/uheede/roms/run/Iceland2_BGC/HOLD_RND/&#39;+str(filelist[0])+&#39;_t_regrid&#39;)</span>
<span class="c1">#    t=xr.concat([t,t1],dim=&#39;time&#39;)</span>

<span class="c1">#t1=roms_regrid(grid,t1)</span>
<span class="c1">#t2=roms_regrid(grid,t2)</span>
<span class="c1">#t3=roms_regrid(grid,t3)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/home/uheede/.conda/envs/xarray_new/lib/python3.10/site-packages/dask/array/routines.py:325: PerformanceWarning: Increasing number of chunks by factor of 25
  intermediate = blockwise(
</pre></div>
</div>
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">KeyboardInterrupt</span><span class="g g-Whitespace">                         </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">line</span> <span class="mi">12</span>
<span class="g g-Whitespace">     </span><span class="mi">10</span> <span class="n">t1</span><span class="o">=</span><span class="n">roms1</span><span class="p">[</span><span class="s1">&#39;t&#39;</span><span class="p">]</span>
<span class="g g-Whitespace">     </span><span class="mi">11</span> <span class="n">t1</span><span class="o">=</span><span class="n">roms_regrid</span><span class="p">(</span><span class="n">grid</span><span class="p">,</span><span class="n">t1</span><span class="p">)</span>
<span class="ne">---&gt; </span><span class="mi">12</span> <span class="n">t</span><span class="o">=</span><span class="n">t1</span><span class="o">.</span><span class="n">load</span><span class="p">()</span>
<span class="g g-Whitespace">     </span><span class="mi">13</span> <span class="n">t</span><span class="o">.</span><span class="n">to_netcdf</span><span class="p">(</span><span class="s1">&#39;/expanse/lustre/projects/cos100/uheede/roms/run/Iceland2_BGC/HOLD_RND/&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">filelist</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">+</span><span class="s1">&#39;_t_regrid&#39;</span><span class="p">)</span>
<span class="g g-Whitespace">     </span><span class="mi">15</span> <span class="c1">#for i in np.arange(1,len(filelist)):</span>
<span class="g g-Whitespace">     </span><span class="mi">16</span> <span class="c1">#    roms1=xr.open_mfdataset(&#39;/expanse/lustre/projects/cos100/uheede/roms/run/Iceland2_BGC/HOLD_RND/&#39;+str(filelist[0]), combine=&#39;nested&#39;, concat_dim=[&quot;time&quot;],decode_times=False)</span>
<span class="g g-Whitespace">     </span><span class="mi">17</span> <span class="c1">#    t1=roms1[&#39;t&#39;]</span>
   <span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="g g-Whitespace">     </span><span class="mi">24</span> <span class="c1">#t2=roms_regrid(grid,t2)</span>
<span class="g g-Whitespace">     </span><span class="mi">25</span> <span class="c1">#t3=roms_regrid(grid,t3)</span>

<span class="nn">File ~/.conda/envs/xarray_new/lib/python3.10/site-packages/xarray/core/dataarray.py:1132,</span> in <span class="ni">DataArray.load</span><span class="nt">(self, **kwargs)</span>
<span class="g g-Whitespace">   </span><span class="mi">1114</span> <span class="k">def</span> <span class="nf">load</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Self</span><span class="p">:</span>
<span class="g g-Whitespace">   </span><span class="mi">1115</span><span class="w">     </span><span class="sd">&quot;&quot;&quot;Manually trigger loading of this array&#39;s data from disk or a</span>
<span class="g g-Whitespace">   </span><span class="mi">1116</span><span class="sd">     remote source into memory and return this array.</span>
<span class="g g-Whitespace">   </span><span class="mi">1117</span><span class="sd"> </span>
<span class="sd">   (...)</span>
<span class="g g-Whitespace">   </span><span class="mi">1130</span><span class="sd">     dask.compute</span>
<span class="g g-Whitespace">   </span><span class="mi">1131</span><span class="sd">     &quot;&quot;&quot;</span>
<span class="ne">-&gt; </span><span class="mi">1132</span>     <span class="n">ds</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_to_temp_dataset</span><span class="p">()</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">1133</span>     <span class="n">new</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_from_temp_dataset</span><span class="p">(</span><span class="n">ds</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">1134</span>     <span class="bp">self</span><span class="o">.</span><span class="n">_variable</span> <span class="o">=</span> <span class="n">new</span><span class="o">.</span><span class="n">_variable</span>

<span class="nn">File ~/.conda/envs/xarray_new/lib/python3.10/site-packages/xarray/core/dataset.py:848,</span> in <span class="ni">Dataset.load</span><span class="nt">(self, **kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">845</span> <span class="n">chunkmanager</span> <span class="o">=</span> <span class="n">get_chunked_array_type</span><span class="p">(</span><span class="o">*</span><span class="n">lazy_data</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
<span class="g g-Whitespace">    </span><span class="mi">847</span> <span class="c1"># evaluate all the chunked arrays simultaneously</span>
<span class="ne">--&gt; </span><span class="mi">848</span> <span class="n">evaluated_data</span> <span class="o">=</span> <span class="n">chunkmanager</span><span class="o">.</span><span class="n">compute</span><span class="p">(</span><span class="o">*</span><span class="n">lazy_data</span><span class="o">.</span><span class="n">values</span><span class="p">(),</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">850</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">data</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">lazy_data</span><span class="p">,</span> <span class="n">evaluated_data</span><span class="p">):</span>
<span class="g g-Whitespace">    </span><span class="mi">851</span>     <span class="bp">self</span><span class="o">.</span><span class="n">variables</span><span class="p">[</span><span class="n">k</span><span class="p">]</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span>

<span class="nn">File ~/.conda/envs/xarray_new/lib/python3.10/site-packages/xarray/core/daskmanager.py:70,</span> in <span class="ni">DaskManager.compute</span><span class="nt">(self, *data, **kwargs)</span>
<span class="g g-Whitespace">     </span><span class="mi">67</span> <span class="k">def</span> <span class="nf">compute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">data</span><span class="p">:</span> <span class="n">DaskArray</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="o">...</span><span class="p">]:</span>
<span class="g g-Whitespace">     </span><span class="mi">68</span>     <span class="kn">from</span> <span class="nn">dask.array</span> <span class="kn">import</span> <span class="n">compute</span>
<span class="ne">---&gt; </span><span class="mi">70</span>     <span class="k">return</span> <span class="n">compute</span><span class="p">(</span><span class="o">*</span><span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

<span class="nn">File ~/.conda/envs/xarray_new/lib/python3.10/site-packages/dask/base.py:628,</span> in <span class="ni">compute</span><span class="nt">(traverse, optimize_graph, scheduler, get, *args, **kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">625</span>     <span class="n">postcomputes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">__dask_postcompute__</span><span class="p">())</span>
<span class="g g-Whitespace">    </span><span class="mi">627</span> <span class="k">with</span> <span class="n">shorten_traceback</span><span class="p">():</span>
<span class="ne">--&gt; </span><span class="mi">628</span>     <span class="n">results</span> <span class="o">=</span> <span class="n">schedule</span><span class="p">(</span><span class="n">dsk</span><span class="p">,</span> <span class="n">keys</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="nn">    630 return repack([f(r, *a) for r, (f, a)</span> in <span class="ni">zip</span><span class="nt">(results, postcomputes)])</span>

<span class="nn">File ~/.conda/envs/xarray_new/lib/python3.10/site-packages/dask/order.py:153,</span> in <span class="ni">order</span><span class="nt">(dsk, dependencies)</span>
<span class="g g-Whitespace">    </span><span class="mi">151</span> <span class="n">dsk</span><span class="p">[</span><span class="n">root</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">_f</span><span class="p">,</span> <span class="o">*</span><span class="n">root_nodes</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">152</span> <span class="n">dependencies</span><span class="p">[</span><span class="n">root</span><span class="p">]</span> <span class="o">=</span> <span class="n">root_nodes</span>
<span class="ne">--&gt; </span><span class="mi">153</span> <span class="n">o</span> <span class="o">=</span> <span class="n">order</span><span class="p">(</span><span class="n">dsk</span><span class="p">,</span> <span class="n">dependencies</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">154</span> <span class="k">del</span> <span class="n">o</span><span class="p">[</span><span class="n">root</span><span class="p">]</span>
<span class="g g-Whitespace">    </span><span class="mi">155</span> <span class="k">return</span> <span class="n">o</span>

<span class="nn">File ~/.conda/envs/xarray_new/lib/python3.10/site-packages/dask/order.py:459,</span> in <span class="ni">order</span><span class="nt">(dsk, dependencies)</span>
<span class="g g-Whitespace">    </span><span class="mi">446</span> <span class="k">for</span> <span class="n">single</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">singles_keys</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">partition_keys</span><span class="p">[</span><span class="n">x</span><span class="p">]):</span>
<span class="g g-Whitespace">    </span><span class="mi">447</span>     <span class="c1"># We want to run the singles if they are either releasing a</span>
<span class="g g-Whitespace">    </span><span class="mi">448</span>     <span class="c1"># dependency directly or that they may be releasing a</span>
   <span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">454</span>     <span class="c1"># distinction and we don&#39;t have enough data to dermine if</span>
<span class="g g-Whitespace">    </span><span class="mi">455</span>     <span class="c1"># this is worth it.</span>
<span class="g g-Whitespace">    </span><span class="mi">456</span>     <span class="n">parent</span> <span class="o">=</span> <span class="n">singles</span><span class="p">[</span><span class="n">single</span><span class="p">]</span>
<span class="g g-Whitespace">    </span><span class="mi">457</span>     <span class="k">if</span> <span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">458</span>         <span class="nb">len</span><span class="p">(</span>
<span class="ne">--&gt; </span><span class="mi">459</span>             <span class="n">set_difference</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">460</span>                 <span class="n">set_difference</span><span class="p">(</span><span class="n">dependents</span><span class="p">[</span><span class="n">parent</span><span class="p">],</span> <span class="n">result</span><span class="p">),</span>
<span class="g g-Whitespace">    </span><span class="mi">461</span>                 <span class="n">seen</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">462</span>             <span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">463</span>         <span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">464</span>         <span class="o">&gt;</span> <span class="mi">1</span>
<span class="g g-Whitespace">    </span><span class="mi">465</span>     <span class="p">):</span>
<span class="g g-Whitespace">    </span><span class="mi">466</span>         <span class="n">later_singles_append</span><span class="p">(</span><span class="n">single</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">467</span>         <span class="k">continue</span>

<span class="ne">KeyboardInterrupt</span>: 
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">filelist</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>range(1, 82)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">t1</span><span class="o">=</span><span class="n">t1</span><span class="o">.</span><span class="n">load</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#plot_obs=woa[&#39;t_an&#39;].sel(depth=0).mean(&#39;time&#39;).sel(lat=slice(60,75)).sel(lon=slice(-25,-15))</span>
<span class="n">plot_obs</span><span class="o">=</span><span class="n">woa</span><span class="p">[</span><span class="s1">&#39;t_an&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">depth</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="s1">&#39;time&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">lat</span><span class="o">=</span><span class="nb">slice</span><span class="p">(</span><span class="mf">63.5</span><span class="p">,</span><span class="mi">65</span><span class="p">))</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">lon</span><span class="o">=</span><span class="nb">slice</span><span class="p">(</span><span class="o">-</span><span class="mi">23</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span><span class="o">-</span><span class="mi">20</span><span class="p">))</span>
<span class="n">plot_model</span><span class="o">=</span><span class="n">t</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">depth</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">levels</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">15</span><span class="p">,</span><span class="mf">0.5</span><span class="p">)</span>
<span class="n">cf1</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">contourf</span><span class="p">(</span><span class="n">plot_obs</span><span class="o">.</span><span class="n">lon</span><span class="p">,</span><span class="n">plot_obs</span><span class="o">.</span><span class="n">lat</span><span class="p">,</span><span class="n">plot_obs</span><span class="p">,</span><span class="n">levels</span><span class="p">)</span>
<span class="n">cp1</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">cf1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/482b9fc358f7df6cd58e653f7d01cb5cfab459121c8aa0832bcd16ce3a8c771f.png" src="_images/482b9fc358f7df6cd58e653f7d01cb5cfab459121c8aa0832bcd16ce3a8c771f.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">levels</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">15</span><span class="p">,</span><span class="mf">0.5</span><span class="p">)</span>

<span class="n">cf1</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">contourf</span><span class="p">(</span><span class="n">plot_model</span><span class="o">.</span><span class="n">lon</span><span class="o">-</span><span class="mi">360</span><span class="p">,</span><span class="n">plot_model</span><span class="o">.</span><span class="n">lat</span><span class="p">,</span><span class="n">plot_model</span><span class="p">,</span><span class="n">levels</span><span class="p">)</span>
<span class="n">cp1</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">cf1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/913b95d94957d2d90cd607d0bc42bf783a3dc489451f16e33799d5f9a99f3276.png" src="_images/913b95d94957d2d90cd607d0bc42bf783a3dc489451f16e33799d5f9a99f3276.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#plot_obs=woa[&#39;t_an&#39;].sel(depth=0).mean(&#39;time&#39;).sel(lat=slice(60,75)).sel(lon=slice(-25,-15))</span>
<span class="n">plot_obs</span><span class="o">=</span><span class="n">woa</span><span class="p">[</span><span class="s1">&#39;t_an&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="s1">&#39;time&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">lat</span><span class="o">=</span><span class="mi">63</span><span class="p">,</span><span class="n">method</span><span class="o">=</span><span class="s1">&#39;nearest&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">lon</span><span class="o">=-</span><span class="mi">24</span><span class="p">,</span><span class="n">method</span><span class="o">=</span><span class="s1">&#39;nearest&#39;</span><span class="p">)</span>
<span class="n">plot_model</span><span class="o">=</span><span class="n">t</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">lat</span><span class="o">=</span><span class="mi">63</span><span class="p">,</span> <span class="n">lon</span><span class="o">=-</span><span class="mi">24</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">KeyError</span><span class="g g-Whitespace">                                  </span>Traceback (most recent call last)
<span class="nn">File ~/.conda/envs/xarray_new/lib/python3.10/site-packages/pandas/core/indexes/base.py:3790,</span> in <span class="ni">Index.get_loc</span><span class="nt">(self, key)</span>
<span class="g g-Whitespace">   </span><span class="mi">3789</span> <span class="k">try</span><span class="p">:</span>
<span class="ne">-&gt; </span><span class="mi">3790</span>     <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_engine</span><span class="o">.</span><span class="n">get_loc</span><span class="p">(</span><span class="n">casted_key</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">3791</span> <span class="k">except</span> <span class="ne">KeyError</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>

<span class="nn">File index.pyx:152,</span> in <span class="ni">pandas._libs.index.IndexEngine.get_loc</span><span class="nt">()</span>

<span class="nn">File index.pyx:181,</span> in <span class="ni">pandas._libs.index.IndexEngine.get_loc</span><span class="nt">()</span>

<span class="nn">File pandas/_libs/hashtable_class_helper.pxi:1698,</span> in <span class="ni">pandas._libs.hashtable.Float64HashTable.get_item</span><span class="nt">()</span>

<span class="nn">File pandas/_libs/hashtable_class_helper.pxi:1722,</span> in <span class="ni">pandas._libs.hashtable.Float64HashTable.get_item</span><span class="nt">()</span>

<span class="ne">KeyError</span>: 63.0

<span class="n">The</span> <span class="n">above</span> <span class="n">exception</span> <span class="n">was</span> <span class="n">the</span> <span class="n">direct</span> <span class="n">cause</span> <span class="n">of</span> <span class="n">the</span> <span class="n">following</span> <span class="n">exception</span><span class="p">:</span>

<span class="ne">KeyError</span><span class="g g-Whitespace">                                  </span>Traceback (most recent call last)
<span class="nn">File ~/.conda/envs/xarray_new/lib/python3.10/site-packages/xarray/core/indexes.py:772,</span> in <span class="ni">PandasIndex.sel</span><span class="nt">(self, labels, method, tolerance)</span>
<span class="g g-Whitespace">    </span><span class="mi">771</span> <span class="k">try</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">772</span>     <span class="n">indexer</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">get_loc</span><span class="p">(</span><span class="n">label_value</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">773</span> <span class="k">except</span> <span class="ne">KeyError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>

<span class="nn">File ~/.conda/envs/xarray_new/lib/python3.10/site-packages/pandas/core/indexes/base.py:3797,</span> in <span class="ni">Index.get_loc</span><span class="nt">(self, key)</span>
<span class="g g-Whitespace">   </span><span class="mi">3796</span>         <span class="k">raise</span> <span class="n">InvalidIndexError</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
<span class="ne">-&gt; </span><span class="mi">3797</span>     <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="n">key</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">err</span>
<span class="g g-Whitespace">   </span><span class="mi">3798</span> <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
<span class="g g-Whitespace">   </span><span class="mi">3799</span>     <span class="c1"># If we have a listlike key, _check_indexing_error will raise</span>
<span class="g g-Whitespace">   </span><span class="mi">3800</span>     <span class="c1">#  InvalidIndexError. Otherwise we fall through and re-raise</span>
<span class="g g-Whitespace">   </span><span class="mi">3801</span>     <span class="c1">#  the TypeError.</span>

<span class="ne">KeyError</span>: 63.0

<span class="n">The</span> <span class="n">above</span> <span class="n">exception</span> <span class="n">was</span> <span class="n">the</span> <span class="n">direct</span> <span class="n">cause</span> <span class="n">of</span> <span class="n">the</span> <span class="n">following</span> <span class="n">exception</span><span class="p">:</span>

<span class="ne">KeyError</span><span class="g g-Whitespace">                                  </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">113</span><span class="p">],</span> <span class="n">line</span> <span class="mi">3</span>
<span class="g g-Whitespace">      </span><span class="mi">1</span> <span class="c1">#plot_obs=woa[&#39;t_an&#39;].sel(depth=0).mean(&#39;time&#39;).sel(lat=slice(60,75)).sel(lon=slice(-25,-15))</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span> <span class="n">plot_obs</span><span class="o">=</span><span class="n">woa</span><span class="p">[</span><span class="s1">&#39;t_an&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="s1">&#39;time&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">lat</span><span class="o">=</span><span class="mi">63</span><span class="p">,</span><span class="n">method</span><span class="o">=</span><span class="s1">&#39;nearest&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">lon</span><span class="o">=-</span><span class="mi">24</span><span class="p">,</span><span class="n">method</span><span class="o">=</span><span class="s1">&#39;nearest&#39;</span><span class="p">)</span>
<span class="ne">----&gt; </span><span class="mi">3</span> <span class="n">plot_model</span><span class="o">=</span><span class="n">t</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">lat</span><span class="o">=</span><span class="mi">63</span><span class="p">,</span> <span class="n">lon</span><span class="o">=-</span><span class="mi">24</span><span class="p">)</span>

<span class="nn">File ~/.conda/envs/xarray_new/lib/python3.10/site-packages/xarray/core/dataarray.py:1617,</span> in <span class="ni">DataArray.sel</span><span class="nt">(self, indexers, method, tolerance, drop, **indexers_kwargs)</span>
<span class="g g-Whitespace">   </span><span class="mi">1501</span> <span class="k">def</span> <span class="nf">sel</span><span class="p">(</span>
<span class="g g-Whitespace">   </span><span class="mi">1502</span>     <span class="bp">self</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1503</span>     <span class="n">indexers</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
   <span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">1507</span>     <span class="o">**</span><span class="n">indexers_kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1508</span> <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Self</span><span class="p">:</span>
<span class="g g-Whitespace">   </span><span class="mi">1509</span><span class="w">     </span><span class="sd">&quot;&quot;&quot;Return a new DataArray whose data is given by selecting index</span>
<span class="g g-Whitespace">   </span><span class="mi">1510</span><span class="sd">     labels along the specified dimension(s).</span>
<span class="g g-Whitespace">   </span><span class="mi">1511</span><span class="sd"> </span>
<span class="sd">   (...)</span>
<span class="g g-Whitespace">   </span><span class="mi">1615</span><span class="sd">     Dimensions without coordinates: points</span>
<span class="g g-Whitespace">   </span><span class="mi">1616</span><span class="sd">     &quot;&quot;&quot;</span>
<span class="ne">-&gt; </span><span class="mi">1617</span>     <span class="n">ds</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_to_temp_dataset</span><span class="p">()</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span>
<span class="g g-Whitespace">   </span><span class="mi">1618</span>         <span class="n">indexers</span><span class="o">=</span><span class="n">indexers</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1619</span>         <span class="n">drop</span><span class="o">=</span><span class="n">drop</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1620</span>         <span class="n">method</span><span class="o">=</span><span class="n">method</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1621</span>         <span class="n">tolerance</span><span class="o">=</span><span class="n">tolerance</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1622</span>         <span class="o">**</span><span class="n">indexers_kwargs</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1623</span>     <span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">1624</span>     <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_from_temp_dataset</span><span class="p">(</span><span class="n">ds</span><span class="p">)</span>

<span class="nn">File ~/.conda/envs/xarray_new/lib/python3.10/site-packages/xarray/core/dataset.py:3074,</span> in <span class="ni">Dataset.sel</span><span class="nt">(self, indexers, method, tolerance, drop, **indexers_kwargs)</span>
<span class="g g-Whitespace">   </span><span class="mi">3006</span><span class="w"> </span><span class="sd">&quot;&quot;&quot;Returns a new dataset with each array indexed by tick labels</span>
<span class="g g-Whitespace">   </span><span class="mi">3007</span><span class="sd"> along the specified dimension(s).</span>
<span class="g g-Whitespace">   </span><span class="mi">3008</span><span class="sd"> </span>
<span class="sd">   (...)</span>
<span class="g g-Whitespace">   </span><span class="mi">3071</span><span class="sd"> </span>
<span class="g g-Whitespace">   </span><span class="mi">3072</span><span class="sd"> &quot;&quot;&quot;</span>
<span class="g g-Whitespace">   </span><span class="mi">3073</span> <span class="n">indexers</span> <span class="o">=</span> <span class="n">either_dict_or_kwargs</span><span class="p">(</span><span class="n">indexers</span><span class="p">,</span> <span class="n">indexers_kwargs</span><span class="p">,</span> <span class="s2">&quot;sel&quot;</span><span class="p">)</span>
<span class="ne">-&gt; </span><span class="mi">3074</span> <span class="n">query_results</span> <span class="o">=</span> <span class="n">map_index_queries</span><span class="p">(</span>
<span class="g g-Whitespace">   </span><span class="mi">3075</span>     <span class="bp">self</span><span class="p">,</span> <span class="n">indexers</span><span class="o">=</span><span class="n">indexers</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="n">method</span><span class="p">,</span> <span class="n">tolerance</span><span class="o">=</span><span class="n">tolerance</span>
<span class="g g-Whitespace">   </span><span class="mi">3076</span> <span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">3078</span> <span class="k">if</span> <span class="n">drop</span><span class="p">:</span>
<span class="g g-Whitespace">   </span><span class="mi">3079</span>     <span class="n">no_scalar_variables</span> <span class="o">=</span> <span class="p">{}</span>

<span class="nn">File ~/.conda/envs/xarray_new/lib/python3.10/site-packages/xarray/core/indexing.py:193,</span> in <span class="ni">map_index_queries</span><span class="nt">(obj, indexers, method, tolerance, **indexers_kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">191</span>         <span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">IndexSelResult</span><span class="p">(</span><span class="n">labels</span><span class="p">))</span>
<span class="g g-Whitespace">    </span><span class="mi">192</span>     <span class="k">else</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">193</span>         <span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">index</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">labels</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">))</span>
<span class="g g-Whitespace">    </span><span class="mi">195</span> <span class="n">merged</span> <span class="o">=</span> <span class="n">merge_sel_results</span><span class="p">(</span><span class="n">results</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">197</span> <span class="c1"># drop dimension coordinates found in dimension indexers</span>
<span class="g g-Whitespace">    </span><span class="mi">198</span> <span class="c1"># (also drop multi-index if any)</span>
<span class="g g-Whitespace">    </span><span class="mi">199</span> <span class="c1"># (.sel() already ensures alignment)</span>

<span class="nn">File ~/.conda/envs/xarray_new/lib/python3.10/site-packages/xarray/core/indexes.py:774,</span> in <span class="ni">PandasIndex.sel</span><span class="nt">(self, labels, method, tolerance)</span>
<span class="g g-Whitespace">    </span><span class="mi">772</span>                 <span class="n">indexer</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">get_loc</span><span class="p">(</span><span class="n">label_value</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">773</span>             <span class="k">except</span> <span class="ne">KeyError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">774</span>                 <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">775</span>                     <span class="sa">f</span><span class="s2">&quot;not all values found in index </span><span class="si">{</span><span class="n">coord_name</span><span class="si">!r}</span><span class="s2">. &quot;</span>
<span class="g g-Whitespace">    </span><span class="mi">776</span>                     <span class="s2">&quot;Try setting the `method` keyword argument (example: method=&#39;nearest&#39;).&quot;</span>
<span class="g g-Whitespace">    </span><span class="mi">777</span>                 <span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>
<span class="g g-Whitespace">    </span><span class="mi">779</span> <span class="k">elif</span> <span class="n">label_array</span><span class="o">.</span><span class="n">dtype</span><span class="o">.</span><span class="n">kind</span> <span class="o">==</span> <span class="s2">&quot;b&quot;</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">780</span>     <span class="n">indexer</span> <span class="o">=</span> <span class="n">label_array</span>

<span class="ne">KeyError</span>: &quot;not all values found in index &#39;lat&#39;. Try setting the `method` keyword argument (example: method=&#39;nearest&#39;).&quot;
</pre></div>
</div>
</div>
</div>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Ulla Heede CWorthy, LLC
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>